(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{451:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(3),o=n(452),l=n(1125),s=n(1117),c=n(1144),d=n(1104),u=n(1114),m=n(1109),p=n(1149),h=n(1150),g=n(11),f=n(37);const y={palette:{common:{black:"#000",white:"#fff"},mode:"light",primary:{light:"#7986cb",main:"#3f51b5",dark:"#303f9f",contrastText:"#fff"},secondary:{light:"#ff4081",main:"#f50057",dark:"#c51162",contrastText:"#fff"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},warning:{light:"#ffb74d",main:"#ff9800",dark:"#f57c00",contrastText:"rgba(0, 0, 0, 0.87)"},info:{light:"#64b5f6",main:"#2196f3",dark:"#1976d2",contrastText:"#fff"},success:{light:"#81c784",main:"#4caf50",dark:"#388e3c",contrastText:"rgba(0, 0, 0, 0.87)"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},contrastThreshold:3,tonalOffset:.2,text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:"rgb(153, 153, 153)",default:"#fafafa"},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}},b={palette:{common:{black:"#000",white:"#fff"},mode:"dark",primary:{light:"#7986cb",main:"#3f51b5",dark:"#303f9f",contrastText:"#fff"},secondary:{light:"#ff4081",main:"#f50057",dark:"#c51162",contrastText:"#fff"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},warning:{light:"#ffb74d",main:"#ff9800",dark:"#f57c00",contrastText:"rgba(0, 0, 0, 0.87)"},info:{light:"#64b5f6",main:"#2196f3",dark:"#1976d2",contrastText:"#fff"},success:{light:"#81c784",main:"#4caf50",dark:"#388e3c",contrastText:"rgba(0, 0, 0, 0.87)"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},contrastThreshold:3,tonalOffset:.2,text:{primary:"#fff",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#808080",default:"#303030"},action:{active:"#fff",hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}},{Context:v,Provider:E,useProvider:O}=Object(g.d)({value:y}),w=E,x=()=>{const[e]=O();return e};var D=n(45),_=n(16),I=n(41);const P={animate:"end",animationEasing:"linear",animationDuration:1e3,animateFilter:()=>!0,animationThreshold:250};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S={cose:T({name:"cose",ready(){},stop(){},refresh:20,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:e=>2048,nodeOverlap:4,idealEdgeLength:e=>32,edgeElasticity:e=>32,nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1},P),breadthfirst:T({name:"breadthfirst",fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,ready:void 0,stop:void 0,transform:(e,t)=>t},P),concentric:T({name:"concentric",fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:e=>e.degree(),levelWidth:e=>e.maxDegree()/4,ready:void 0,stop:void 0,transform:(e,t)=>t},P),circle:T({name:"circle",fit:!0,padding:30,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,ready:void 0,stop:void 0,transform:(e,t)=>t},P),grid:T({name:"grid",fit:!0,padding:30,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:e=>{},sort:void 0,ready:void 0,stop:void 0,transform:(e,t)=>t},P),random:T({name:"random",fit:!0,padding:30,ready:void 0,stop:void 0,transform:(e,t)=>t},P),euler:T({name:"euler",springLength:e=>400,springCoeff:e=>8e-4,mass:e=>40,gravity:-1.2,pull:.001,theta:.666,dragCoeff:.02,movementThreshold:1,timeStep:20,refresh:10,maxIterations:1e3,ungrabifyWhileSimulating:!1,padding:30,avoidOverlap:!0,ready(){},stop(){},randomize:!1},P),cise:T({name:"cise",animate:!1,refresh:10,animationDuration:void 0,animationEasing:void 0,fit:!0,padding:30,nodeSeparation:12.5,idealInterClusterEdgeLengthCoefficient:1.4,allowNodesInsideCircle:!1,maxRatioOfNodesInsideCircle:.1,springCoeff:.45,nodeRepulsion:4500,gravity:.25,gravityRange:3.8,ready(){},stop(){}},P),cola:T({name:"cola",animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,ready(){},stop(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,convergenceThreshold:.01,nodeSpacing:e=>10,flow:void 0,alignment:void 0,gapInequalities:void 0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0},P),avsdf:T({name:"avsdf",ready(){},stop(){},refresh:30,fit:!0,padding:10,ungrabifyWhileSimulating:!1,animate:"end",animationDuration:500,nodeSeparation:60},P),dagre:T({name:"dagre",nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,ranker:void 0,minLen:e=>1,edgeWeight:e=>1,fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:(e,t)=>!0,animationDuration:500,animationEasing:void 0,transform:(e,t)=>t,ready(){},stop(){}},P),spread:T({name:"spread",animate:!0,ready:void 0,stop:void 0,fit:!0,minDist:20,padding:20,expandingFactor:-1,prelayout:{name:"cose"},maxExpandIterations:4,randomize:!1},P),klay:{}};const k="ADD_CLUSTER_ELEMENT",L="ADD_DATA_ADDITIONAL",A="ADD_DATA_VALUE_ADDITIONAL",R="ADD_DATA_VALUE",N="ADD_DATA",M="ADD_EDGE",U="ADD_NODE",F="APPLY_EVENTS",B="BOX_SELECTION",V="CALCULATE_GLOBAL_NETWORK_STATISTICS",H="CHANGE_CLUSTER_VISIBILITY",G="CHANGE_DATA_NAME_ADDITIONAL",q="CHANGE_DATA_NAME",z="CHANGE_DATA_VALUE_ADDITIONAL",Y="CHANGE_DATA_VALUE",W="CHANGE_THEME",$="CLEAR_NODE_GLOBAL_LABEL",X="CLEAR_NODE_LOCAL_LABEL",J="CLOSE_MODAL",K="CREATE_CLUSTER_BY_ALGORITHM_FORM_SUBMIT",Q="CREATE_CLUSTER_FORM_SUBMIT",Z="CREATE_CLUSTER",ee="CREATE_PLAYLIST",te="DATA_VALUE_DOWN",ne="DATA_VALUE_UP",re="DELETE_CLUSTER_ELEMENT",ae="DELETE_CLUSTER",ie="DELETE_DATA_ADDITIONAL",oe="DELETE_DATA_VALUE_ADDITIONAL",le="DELETE_DATA_VALUE",se="DELETE_DATA",ce="DELETE_EDGE",de="DELETE_HISTORY_ITEM",ue="DELETE_NODE",me="DELETE_PLAYLIST",pe="ELEMENT_SELECTED_WITH_ZOOM",he="ELEMENT_SELECTED",ge="ELEMENT_SETTINGS",fe="ELEMENT_SETTINGS_FORM_SUBMIT",ye="EXPORT_DATA",be="IMPORT_DATA",ve="IMPORT_EVENTS",Ee="LAYOUT_CHANGED",Oe="MODE_CHANGED",we="PLAY_EVENTS",xe="PRESS_ADD_CLUSTER_ELEMENT",De="PRESS_BACKGROUND",_e="RECORD_FINISHED",Ie="REDO_EVENT",Pe="REORDER_CLUSTER",Ce="REORDER_HISTORY_ITEM",Te="REORDER_PLAYLIST",je="SELECT_CLUSTER",Se="SET_NODE_GLOBAL_LABEL",ke="SET_NODE_LOCAL_LABEL",Le="SET_POSITIONS_IMPERATIVELY",Ae="SETTINGS_FORM_CHANGED",Re="TOGGLE_ACTION_BAR",Ne="TOGGLE_DATA_BAR",Me="TOGGLE_FILTER_BAR",Ue="TOGGLE_NODE_GLOBAL_LABEL_FIRST",Fe="TOGGLE_PREFERENCES_MODAL",Be="TOGGLE_RECORD_EVENTS",Ve="TOGGLE_RECORD",He="UNDO_EVENT",Ge="UPDATE_DATA",qe="data",ze="__context",Ye={ADD:"ADD",DELETE:"DELETE",CONTINUES_ADD:"CONTINUES_ADD",CONTINUES_DELETE:"CONTINUES_DELETE",DEFAULT:"DEFAULT",ADD_CLUSTER_ELEMENT:"ADD_CLUSTER_ELEMENT"},We=Object.keys(S),$e={onPress:"pointertap",onHoverEnd:"mouseout",onHoverStart:"mouseover",onPressEnd:"pointerup",onPressMove:"pointermove",onPressStart:"pointerdown",onRightPress:"rightclick"},Xe="select",Je="unselect",Ke="position",Qe="selectEdge",Ze="unselectEdge",et="selectNode",tt="unselectNode",nt="data",rt="mouseover",at="mouseout",it=["style"],ot=["source"];function lt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ut=(e,t)=>{const n=ct({},e);return Object.keys($e).map(t=>{const r=$e[t],a=e[t];a&&(n[r]=a)}),n},mt=e=>ct({},e),pt=!1,ht=(e,t,n={},r={isFlex:pt,rescaleToYoga:!1})=>{const a=e,{isFlex:o=pt,rescaleToYoga:l=!1}=r,{style:s={}}=n,c=lt(n,it);var d;o&&(a.flex=!0,a.yoga.flexDirection=null!==(d=null===s||void 0===s?void 0:s.flexDirection)&&void 0!==d?d:"column",a.yoga.keepAspectRatio=i.j(n.resizeMode,"contain"),a.yoga.rescaleToYoga=l,a.yoga.fromConfig(s));return a._visible=n.visible,Object(D.applyDefaultProps)(a,ut(t),ut(c))},gt=(e,t={})=>{const{source:n}=t,r=lt(t,ot),a=i.q("uri")(n),o=ct(ct({},r),a?{image:n.uri}:{texture:n}),l=()=>requestAnimationFrame(()=>{window.dispatchEvent(new CustomEvent("__REACT_PIXI_REQUEST_RENDER__"))}),s=(t,n)=>{if(o.hasOwnProperty(t)){const r=n.typeofs.some(e=>typeof o[t]===e)||n.instanceofs.some(e=>o[t]instanceof e);return i.gb([[i.d(!r),i.d(`${e} ${t} prop is invalid`)]])(""),o[t]}};if(o.texture)return i.gb([[i.d(i.L(o.texture instanceof _.s)),i.d(e+" texture needs to be typeof `PIXI.Texture`")]])(""),o.texture;const c=s("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||s("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||s("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,_.s]});i.gb([[i.d(!c),i.d(e+" could not get texture from props")]])("");const d=_.s.from(c);return d.once("update",l),d.once("loaded",l),d.valid&&l(),d},ft=(e,t)=>{const n=e.id(),r=e.isNode()?"nodes":"edges",a=t[r].findIndex(e=>e.id===n);return{item:t[r][a],index:a}},yt=(e,t)=>{const n=e.selectedElementIds,r=i.D(null!==n&&void 0!==n?n:[]),a=r?t.cy.$id(""+r):null;if(!a)return{};const o=a.isNode()?"nodes":"edges",l=e[o].findIndex(e=>e.id===r);return{selectedItem:e[o][l],selectedElement:a,index:l,type:o}},bt=(e=[],t)=>{var n;return i.x(e)?t.id:null!==(n=i.N([qe,...e],t))&&void 0!==n?n:t.id},vt=async(e,t)=>new Promise((n,r)=>{const a=new FileReader;a.addEventListener("load",()=>{const{result:e}=a;n(e)}),a.addEventListener("error",e=>{r(e)}),a.readAsText(e,t)}),Et=e=>{const t={x:e.x*e.scale.x,y:e.y*e.scale.y};if(0===e.children.length)return ct(ct({},t),{},{width:0,height:0});const n=e.getChildAt(0),r=n.removeChildren();if(0===n.width)return r.forEach(e=>{n.addChild(e)}),ct(ct({},Et(n)),t);const a=ct(ct({},t),{},{width:n.width*n.scale.x,height:n.height*n.scale.y});return r.forEach(e=>{n.addChild(e)}),a},Ot=(e,t=[])=>{let n=!0;return t.forEach(t=>{var r;t.ids.includes(e)&&(n=n&&!(null===(r=t.visible)||void 0===r||r))}),n},wt=e=>{const t=Ct.get(e);return i.b(i.C)(Object.values(t.settings.visibility))},xt={},Dt=(e,t,n=!1)=>{const r=t.x-e.x,a=t.y-e.y;return ct(ct({},e),{},{width:n?Math.abs(r):r,height:n?Math.abs(a):a})},_t=e=>{e.elements(":selected").unselect()},It=(e,t)=>{const n=Pt(t);return e.options.interaction&&e.options.interaction.mapPositionToPoint(n,n.x,n.y),n.x/=e.scale.x,n.y/=e.scale.y,n.x+=e.left,n.y+=e.top,n},Pt=e=>{var t,n,r,a;const i=null!==(t=null!==(n=null===(r=e.touches)||void 0===r?void 0:r[0])&&void 0!==n?n:null===(a=e.changedTouches)||void 0===a?void 0:a[0])&&void 0!==t?t:e;return{x:i.clientX,y:i.clientY}},Ct={update:(e,t)=>{e.data({[ze]:t})},get:e=>e.data(ze),getNodeContext:e=>e.data(ze),getEdgeContext:e=>e.data(ze)},Tt=e=>e.data(qe),jt=e=>({id:e.id(),data:Tt(e)}),St=["source"];function kt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Lt=Object(D.PixiComponent)("Image",{create:e=>new _.p(gt("Sprite",e)),applyProps:(e,t,n)=>{var r;const a=mt(n),{source:o}=a,l=kt(a,St);(i.q("uri")(o)&&o.uri!==(null===(r=t.source)||void 0===r?void 0:r.uri)||o!==t.source)&&(e.texture=gt("Sprite",a)),ht(e,t,l,{rescaleToYoga:!0})}});const At=Object(g.m)((function(e){return a.a.createElement(Lt,e)})),Rt=["text","textStyle"],Nt=["text","textStyle","isSprite"],Mt=["children"];function Ut(){return(Ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ft(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){Ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Gt=["left","top","width","height"],qt=e=>{const{style:t={}}=e;return Vt(Vt({},e),{},{style:i.P(Gt)(t),textStyle:i.S(i.jb,i.F(([e,t])=>i.i([[i.j("color"),()=>["fill",I.b(t)]],[i.j("textShadowColor"),()=>["dropShadowColor",I.b(t)]],[i.j("textShadowRadius"),()=>["dropShadowBlur",I.b(t)]],[i.j("textShadowOffset"),()=>{var e;return["dropShadowDistance",null===(e=i.pb(t))||void 0===e?void 0:e[0]]}],[i.a,i.d([e,t])]])(e)),i.o,i.i([[i.e([i.q("dropShadowColor"),i.q("dropShadowBlur"),i.q("dropShadowDistance")]),i.ab(i.E("dropShadow"),!0)],[i.a,i.r]]))(i.M([Gt])(Vt({},t)))})},zt=Object(D.PixiComponent)("PIXIText",{create:e=>{const{style:t={}}=e,{text:n="",textStyle:r={},isSprite:a}=qt(Vt(Vt({},e),{},{style:Vt({color:e.theme.palette.text.primary},t)})),i=new _.q(n,r);if(a){i.updateText(!1);return new _.p(i.texture)}return i},applyProps:(e,t,n)=>{const{style:r={}}=n;e.forceToRender=n.forceToRender;const a=qt(t),{text:i,textStyle:o}=a,l=Ft(a,Rt),s=qt(Vt(Vt({},n),{},{style:Vt({color:n.theme.palette.text.primary},r)})),{text:c="",textStyle:d={},isSprite:u}=s,m=Ft(s,Nt);if(ht(e,l,m),u){const t=new _.q(c,d);t.updateText(!1),e.texture=t.texture}else e.text=c,e.style=d}}),Yt=Object(g.m)((e,t)=>{const{children:n}=e,r=Ft(e,Mt),i=x(),[o,l]=a.a.useState(0);return a.a.createElement(zt,Ut({ref:t,text:n,theme:i,forceToRender:()=>l(e=>e+1)},r))},{isForwardRef:!0});function Wt(){return(Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const $t=Object(D.PixiComponent)("View",{create:()=>new _.g,applyProps:(e,t,n)=>{const r=mt(n),{style:{width:a=e.width,height:i=e.height,backgroundColor:o,borderRadius:l=0,borderWidth:s=0,borderColor:c="black"}={}}=r;if(e.clear(),o){e.beginFill(I.b(o),I.a(o)),e.lineStyle(s,I.b(c));const t=a/2;a===i&&l>=t?e.drawCircle(t,t,t):e.drawRoundedRect(0,0,a,i,l)}e.endFill(),ht(e,t,r)}}),Xt=Object(g.m)((e,t)=>{const n=x();return a.a.createElement($t,Wt({ref:t,theme:n},e))},{isForwardRef:!0}),Jt=Object(g.m)((e,t)=>{const{name:n,image:r,story:i,link:o,onClick:l}=e;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Xt,{style:{width:300,height:150,flexDirection:"row",borderRadius:30,backgroundColor:"#304e57",paddingLeft:10,paddingTop:10}},a.a.createElement(At,{source:{uri:r},style:{width:100,height:100}}),a.a.createElement(Xt,{style:{flexDirection:"column",width:200}},a.a.createElement(Xt,{style:{left:10},interactive:!0,buttonMode:!0,pointertap:()=>{o&&window.open(o,"_blank"),null===l||void 0===l||l()}},a.a.createElement(Yt,{style:Kt.title},n)),a.a.createElement(Yt,{style:Kt.paragraph},i))))},{isForwardRef:!0}),Kt={paragraph:{fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:10,width:150,wordWrap:!0,wordWrapWidth:150,color:"white",left:30},title:{fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:16,width:150,wordWrap:!0,wordWrapWidth:150,color:"white"}},Qt=["cy","attributes"],Zt=["cy","nodes","edges","attributes"],en=["cy","attributes"],tn=["cy","nodes","edges","attributes"],nn=["cy","attributes"],rn=["cy","nodes","edges","attributes"],an=["cy","attributes"],on=["cy","nodes","edges","attributes"],ln=["cy","attributes"],sn=["cy","nodes","edges","attributes"],cn=["cy","attributes"],dn=["cy","nodes","edges","attributes"];function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const gn=e=>t=>{const{pathText:n,nodes:r=[],edges:a=[]}=e,o=t.id(),l=(t.isNode()?r:a).find(e=>e.id===o);return i.N(n.split("."),l)},fn={markov:{get:e=>{let{cy:t,attributes:n}=e,r=hn(e,Qt);return t.elements().markovClustering(mn(mn({},r),{},{attributes:[e=>e.data(n)]}))},getByItem:e=>{let{cy:t,nodes:n,edges:r,attributes:a}=e,i=hn(e,Zt);return t.elements().markovClustering(mn(mn({},i),{},{attributes:[gn({edges:r,nodes:n,pathText:a})]}))},configSchema:{required:["attributes"],properties:{attributes:{type:"string",default:"label",info:"each of which returns a numeric attribute value for the specified edge. Attributes are used to cluster the nodes; i.e. the attributes of an edge indicate similarity between its nodes."},expandFactor:{type:"number",default:2,info:"A number that affects time of computation and cluster granularity to some extent: M * M (defaultValue 2)"},inflateFactor:{type:"number",default:1,info:"A number that affects cluster granularity (the greater the value, the more clusters): M(i,j) / E(j)"},multFactor:{type:"number",default:1,info:"Optional number of self loops for each node. Use a neutral value to improve cluster computations"},maxIterations:{type:"number",default:20,info:"Maximum number of iterations of the MCL algorithm in a single run"}}},configForm:{attributes:{type:"string",defaultValue:"label",info:"each of which returns a numeric attribute value for the specified edge. Attributes are used to cluster the nodes; i.e. the attributes of an edge indicate similarity between its nodes.",required:!0},expandFactor:{type:"number",defaultValue:2,info:"A number that affects time of computation and cluster granularity to some extent: M * M (defaultValue 2)"},inflateFactor:{type:"number",defaultValue:1,info:"A number that affects cluster granularity (the greater the value, the more clusters): M(i,j) / E(j)"},multFactor:{type:"number",defaultValue:1,info:"Optional number of self loops for each node. Use a neutral value to improve cluster computations"},maxIterations:{type:"number",defaultValue:20,info:"Maximum number of iterations of the MCL algorithm in a single run"}}},kMeans:{get:e=>{let{cy:t,attributes:n}=e,r=hn(e,en);return t.nodes().kMeans(mn(mn({},r),{},{attributes:[e=>e.data(n)]}))},getByItem:e=>{let{cy:t,nodes:n,edges:r,attributes:a}=e,i=hn(e,tn);return t.elements().kMeans(mn(mn({},i),{},{attributes:[gn({edges:r,nodes:n,pathText:a})]}))},configSchema:{required:["attributes","k","distance"],properties:{attributes:{type:"string",default:"label",info:"each of which returns a numeric attribute value for the specified node. Attributes are used to cluster the nodes; i.e. two nodes with similar attributes tend to be in the same cluster. Each attribute may have to be normalised in order for the chosen distance metric to make sense. Attributes must be specified unless a custom distance: function( nodeP, nodeQ ) is specified."},k:{type:"number",default:2,info:"The number of clusters to return."},distance:{type:"string",default:"euclidean",enum:["euclidean","squaredEuclidean","manhattan","max"],info:"The distance classifier used to compare attribute vectors. It is optional if attributes are specified."},maxIterations:{type:"number",default:10,info:"The maximum number of iterations of the algorithm to run "},sensitivityThreshold:{type:"number",default:.001,info:"The coefficients difference threshold used to determine whether the algorithm has converged"}}},configForm:{attributes:{type:"string",defaultValue:"label",info:"each of which returns a numeric attribute value for the specified node. Attributes are used to cluster the nodes; i.e. two nodes with similar attributes tend to be in the same cluster. Each attribute may have to be normalised in order for the chosen distance metric to make sense. Attributes must be specified unless a custom distance: function( nodeP, nodeQ ) is specified.",required:!0},k:{type:"number",defaultValue:2,info:"The number of clusters to return.",required:!0},distance:{type:"choice",defaultValue:"euclidean",choices:["euclidean","squaredEuclidean","manhattan","max"],info:"The distance classifier used to compare attribute vectors. It is optional if attributes are specified.",required:!0},maxIterations:{type:"number",defaultValue:10,info:"The maximum number of iterations of the algorithm to run "},sensitivityThreshold:{type:"number",defaultValue:.001,info:"The coefficients difference threshold used to determine whether the algorithm has converged"}}},kMedoids:{get:e=>{let{cy:t,attributes:n}=e,r=hn(e,nn);return t.nodes().kMedoids(mn(mn({},r),{},{attributes:[e=>e.data(n)]}))},getByItem:e=>{let{cy:t,nodes:n,edges:r,attributes:a}=e,i=hn(e,rn);return t.elements().kMedoids(mn(mn({},i),{},{attributes:[gn({edges:r,nodes:n,pathText:a})]}))},configSchema:{required:["attributes","k","distance"],properties:{attributes:{type:"string",default:"label",info:"each of which returns a numeric attribute value for the specified node. Attributes are used to cluster the nodes; i.e. two nodes with similar attributes tend to be in the same cluster. Each attribute may have to be normalised in order for the chosen distance metric to make sense"},k:{type:"number",default:2,info:"The number of clusters to return."},distance:{type:"string",default:"euclidean",enum:["euclidean","squaredEuclidean","manhattan","max"],info:"The distance classifier used to compare attribute vectors. It is optional if attributes are specified."},maxIterations:{type:"number",default:10,info:"The maximum number of iterations of the algorithm to run "}}},configForm:{attributes:{type:"string",defaultValue:"label",info:"each of which returns a numeric attribute value for the specified node. Attributes are used to cluster the nodes; i.e. two nodes with similar attributes tend to be in the same cluster. Each attribute may have to be normalised in order for the chosen distance metric to make sense",required:!0},k:{type:"number",defaultValue:2,info:"The number of clusters to return.",required:!0},distance:{type:"choice",defaultValue:"euclidean",choices:["euclidean","squaredEuclidean","manhattan","max"],info:"The distance classifier used to compare attribute vectors. It is optional if attributes are specified.",required:!0},maxIterations:{type:"number",defaultValue:10,info:"The maximum number of iterations of the algorithm to run "}}},fuzzyCMeans:{get:e=>{let{cy:t,attributes:n}=e,r=hn(e,an);return t.nodes().fuzzyCMeans(mn(mn({},r),{},{attributes:[e=>e.data(n)]}))},getByItem:e=>{let{cy:t,nodes:n,edges:r,attributes:a}=e,i=hn(e,on);return t.elements().fuzzyCMeans(mn(mn({},i),{},{attributes:[gn({edges:r,nodes:n,pathText:a})]}))},configSchema:{required:["attributes","k","distance"],properties:{attributes:{type:"string",default:"label",info:"each of which returns a numeric attribute value for the specified node. Attributes are used to cluster the nodes; i.e. two nodes with similar attributes tend to be in the same cluster. Each attribute may have to be normalised in order for the chosen distance metric to make sense"},k:{type:"number",default:2,info:"The number of clusters to return."},distance:{type:"string",default:"euclidean",enum:["euclidean","squaredEuclidean","manhattan","max"],info:"The distance classifier used to compare attribute vectors. It is optional if attributes are specified."},maxIterations:{type:"number",default:10,info:"The maximum number of iterations of the algorithm to run "},sensitivityThreshold:{type:"number",default:.001,info:"The coefficients difference threshold used to determine whether the algorithm has converged"}}},configForm:{attributes:{type:"string",defaultValue:"label",info:"each of which returns a numeric attribute value for the specified node. Attributes are used to cluster the nodes; i.e. two nodes with similar attributes tend to be in the same cluster. Each attribute may have to be normalised in order for the chosen distance metric to make sense",required:!0},k:{type:"number",defaultValue:2,info:"The number of clusters to return.",required:!0},distance:{type:"choice",defaultValue:"euclidean",choices:["euclidean","squaredEuclidean","manhattan","max"],info:"The distance classifier used to compare attribute vectors. It is optional if attributes are specified.",required:!0},maxIterations:{type:"number",defaultValue:10,info:"The maximum number of iterations of the algorithm to run "},sensitivityThreshold:{type:"number",defaultValue:.001,info:"The coefficients difference threshold used to determine whether the algorithm has converged"}}},hierarchical:{get:e=>{let{cy:t,attributes:n}=e,r=hn(e,ln);return t.nodes().hierarchicalClustering(mn(mn({},r),{},{attributes:[e=>e.data(n)]}))},getByItem:e=>{let{cy:t,nodes:n,edges:r,attributes:a}=e,i=hn(e,sn);return t.elements().hierarchicalClustering(mn(mn({},i),{},{attributes:[gn({edges:r,nodes:n,pathText:a})]}))},configSchema:{required:["attributes","distance","mode"],properties:{attributes:{type:"string",default:"label",info:"each of which returns a numeric attribute value for the specified node. Attributes are used to cluster the nodes; i.e. two nodes with similar attributes tend to be in the same cluster. Each attribute may have to be normalised in order for the chosen distance metric to make sense"},distance:{type:"string",default:"euclidean",enum:["euclidean","squaredEuclidean","manhattan","max"],info:"The distance classifier used to compare attribute vectors. It is optional if attributes are specified.",required:!0},linkage:{type:"string",default:"single",enum:["mean","min","complete","max"],info:"The linkage criterion for measuring the distance between two clusters;"},mode:{type:"string",default:"threshold",enum:["threshold","dendogram"],info:" The mode of the algorithm. For 'threshold' (defaultValue), clusters are merged until they are at least the specified distance apart. For 'dendrogram', the clusters are recursively merged using the branches in a dendrogram (tree) structure beyond a specified depth."},threshold:{type:"number",default:null,info:"In mode: 'threshold', distance threshold for stopping the algorithm. All pairs of the returned clusters are at least threshold distance apart. Without specifying this value for mode: 'threshold', all clusters will eventually be merged into a single cluster."},dendrogramDepth:{type:"number",default:null,info:"In mode: 'dendrogram', the depth beyond which branches are merged in the tree. For example, a value of 0 (defaultValue) results in all branches being merged into a single cluster."},addDendrogram:{type:"number",default:null,info:"In mode: 'dendrogram', whether to add nodes and edges to the graph for the dendrogram (defaultValue false). This is not necessary to run the algorithm, but it is useful for visualising the results."}}},configForm:{attributes:{type:"string",defaultValue:"label",info:"each of which returns a numeric attribute value for the specified node. Attributes are used to cluster the nodes; i.e. two nodes with similar attributes tend to be in the same cluster. Each attribute may have to be normalised in order for the chosen distance metric to make sense",required:!0},distance:{type:"choice",defaultValue:"euclidean",choices:["euclidean","squaredEuclidean","manhattan","max"],info:"The distance classifier used to compare attribute vectors. It is optional if attributes are specified.",required:!0},linkage:{type:"choice",defaultValue:"single",choices:["mean","min","complete","max"],info:"The linkage criterion for measuring the distance between two clusters;"},mode:{type:"choice",defaultValue:"threshold",choices:["threshold","dendogram"],info:" The mode of the algorithm. For 'threshold' (defaultValue), clusters are merged until they are at least the specified distance apart. For 'dendrogram', the clusters are recursively merged using the branches in a dendrogram (tree) structure beyond a specified depth.",required:!0},threshold:{type:"number",defaultValue:null,info:"In mode: 'threshold', distance threshold for stopping the algorithm. All pairs of the returned clusters are at least threshold distance apart. Without specifying this value for mode: 'threshold', all clusters will eventually be merged into a single cluster."},dendrogramDepth:{type:"number",defaultValue:null,info:"In mode: 'dendrogram', the depth beyond which branches are merged in the tree. For example, a value of 0 (defaultValue) results in all branches being merged into a single cluster."},addDendrogram:{type:"number",defaultValue:null,info:"In mode: 'dendrogram', whether to add nodes and edges to the graph for the dendrogram (defaultValue false). This is not necessary to run the algorithm, but it is useful for visualising the results."}}},affinityPropagation:{get:e=>{let{cy:t,attributes:n}=e,r=hn(e,cn);return t.nodes().affinityPropagation(mn(mn({},r),{},{attributes:[e=>e.data(n)]}))},getByItem:e=>{let{cy:t,nodes:n,edges:r,attributes:a}=e,i=hn(e,dn);return t.elements().affinityPropagation(mn(mn({},i),{},{attributes:[gn({edges:r,nodes:n,pathText:a})]}))},configSchema:{required:["attributes","distance"],properties:{attributes:{type:"string",default:"label",info:"each of which returns a numeric attribute value for the specified node. Attributes are used to cluster the nodes; i.e. two nodes with similar attributes tend to be in the same cluster. Each attribute may have to be normalised in order for the chosen distance metric to make sense"},distance:{type:"string",default:"euclidean",enum:["euclidean","squaredEuclidean","manhattan","max"],info:"The distance classifier used to compare attribute vectors. It is optional if attributes are specified."},preference:{type:"string",default:"median",enum:["mean","min","complete","max"],info:"The metric used to determine the suitability of a data point (i.e. node attribute vector) to serve as an exemplar. It may take on one of several special values, which are determined from the similarity matrix (i.e. the negative distance matrix). Or a manual, numeric value may be used (generally of the opposite sign of your distance values)"},damping:{type:"number",default:.8,maximum:1,minimum:.5,includeMin:!0,info:"A damping factor on [0.5, 1)"},minIterations:{type:"number",default:100,info:"The minimum number of iteraions the algorithm will run before stopping"},maxIterations:{type:"number",default:1e3,info:"The maximum number of iteraions the algorithm will run before stopping"}}},configForm:{attributes:{type:"string",defaultValue:"label",info:"each of which returns a numeric attribute value for the specified node. Attributes are used to cluster the nodes; i.e. two nodes with similar attributes tend to be in the same cluster. Each attribute may have to be normalised in order for the chosen distance metric to make sense",required:!0},distance:{type:"choice",defaultValue:"euclidean",choices:["euclidean","squaredEuclidean","manhattan","max"],info:"The distance classifier used to compare attribute vectors. It is optional if attributes are specified.",required:!0},preference:{type:"choice",defaultValue:"median",choices:["mean","min","complete","max"],info:"The metric used to determine the suitability of a data point (i.e. node attribute vector) to serve as an exemplar. It may take on one of several special values, which are determined from the similarity matrix (i.e. the negative distance matrix). Or a manual, numeric value may be used (generally of the opposite sign of your distance values)"},damping:{type:"number",defaultValue:.8,max:1,min:.5,includeMin:!0,info:"A damping factor on [0.5, 1)"},minIterations:{type:"number",defaultValue:100,info:"The minimum number of iteraions the algorithm will run before stopping"},maxIterations:{type:"number",defaultValue:1e3,info:"The maximum number of iteraions the algorithm will run before stopping"}}}};var yn=n(25);function bn(){return(bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const On=e=>{const{from:t,to:n,distance:r,count:a,unitVector:o,normVector:l}=e,s=yn.e(r)(l),c=yn.e(-1)(s),d=i.S(yn.h(t),yn.b(a))(n),u=yn.b(2)(d);return i.G((e,n)=>{const r=n%2===0,a=i.S(yn.e(n),yn.a(t))(d),o=yn.a(a)(d);return{start:a,mid:i.S(yn.a(u),yn.a(r?s:c))(a),end:o,upperVector:s,midVec:i.S(yn.a(u))(a)}})(i.U(0,a))},wn=e=>{const{from:t,to:n,fill:r=I.b(y.palette.background.paper),directed:a,type:o,graphics:l,width:s=6,alpha:c=1,arrowHead:d={radius:2},distance:u,margin:m={x:0,y:0},unitVector:p,normVector:h,undirectedUnitVector:g,undirectedNormVector:f}=e,b={x:f.x*m.x,y:f.y*m.y},v=Math.hypot(t.width,t.height)/2,E=Math.hypot(n.width,n.height)/2,O=yn.a(t.width/2,t.height/2)(t),w=yn.a(n.width/2,n.height/2)(n),x=i.S(yn.a(yn.e(v)(p)),yn.a(b))(O),D=i.S(yn.h(yn.e(E)(p)),yn.a(b))(w);l.clear(),l.lineStyle(s,r,c),a&&(({graphics:e,to:t,radius:n=10,unitVector:r,fill:a})=>{const o=t,l=yn.e(n)(r),s=yn.g(-Math.PI/2)(l),c=i.S(yn.e(-1),yn.a(o))(s),d=i.S(yn.a(o))(s),u=yn.a(l)(t);e.beginFill(a),e.drawPolygon(new _.l(c.x,c.y),new _.l(d.x,d.y),new _.l(u.x,u.y)),e.endFill(),e.isSprite=!0})(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){En(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({graphics:l,unitVector:p,to:D,fill:r},d)),i.i([[i.j("bezier"),()=>{const e=On({from:x,to:D,count:2,distance:100,unitVector:g,normVector:f});i.F(({start:e,end:t,control1:n,control2:r})=>{l.moveTo(e.x,e.y),l.bezierCurveTo(n.x,n.y,r.x,r.y,t.x,t.y)})(e)}],[i.j("segments"),()=>{const e=On({from:x,to:D,count:4,distance:100,unitVector:g,normVector:f});i.F(({start:e,mid:t,end:n})=>{l.moveTo(e.x,e.y),l.lineTo(t.x,t.y),l.moveTo(t.x,t.y),l.lineTo(n.x,n.y)})(e)}],[i.a,()=>{if(u){const e=On({from:x,to:D,count:1,distance:u,unitVector:g,normVector:f});i.F(({mid:e,start:t,end:n})=>{l.moveTo(t.x,t.y),l.bezierCurveTo(t.x,t.y,e.x,e.y,n.x,n.y)})(e)}else l.moveTo(x.x,x.y),l.lineTo(D.x,D.y)}]])(o),l.endFill(),l.zIndex=-100},xn=Object(D.PixiComponent)("Graphics2",{create:e=>new _.g,applyProps:(e,t,n)=>{const r=bn({},mt(n));ht(e,t,r)}});const Dn=Object(g.m)((function(e,t){return a.a.createElement(xn,bn({ref:t},e))}),{isForwardRef:!0}),_n=["buttonMode"];function In(){return(In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Cn=["children","renderHoverElement"];function Tn(){return(Tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function jn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Sn=n(21),kn=n.n(Sn);const Ln={column:kn.a.FLEX_DIRECTION_COLUMN,"column-reverse":kn.a.FLEX_DIRECTION_COLUMN_REVERSE,row:kn.a.FLEX_DIRECTION_ROW,"row-reverse":kn.a.FLEX_DIRECTION_ROW_REVERSE},An={"flex-start":kn.a.JUSTIFY_FLEX_START,"flex-end":kn.a.JUSTIFY_FLEX_END,center:kn.a.JUSTIFY_CENTER,"space-between":kn.a.JUSTIFY_SPACE_BETWEEN,"space-around":kn.a.JUSTIFY_SPACE_AROUND},Rn={wrap:kn.a.WRAP_WRAP,"no-wrap":kn.a.WRAP_NO_WRAP,"wrap-reverse":kn.a.WRAP_WRAP_REVERSE},Nn={stretch:kn.a.ALIGN_STRETCH,auto:kn.a.ALIGN_AUTO,baseline:kn.a.ALIGN_BASELINE,center:kn.a.ALIGN_CENTER,"flex-start":kn.a.ALIGN_FLEX_START,"flex-end":kn.a.ALIGN_FLEX_END,"space-between":kn.a.ALIGN_SPACE_BETWEEN,"space-around":kn.a.ALIGN_SPACE_AROUND},Mn={relative:kn.a.POSITION_TYPE_RELATIVE,absolute:kn.a.POSITION_TYPE_ABSOLUTE},Un={flex:kn.a.DISPLAY_FLEX,none:kn.a.DISPLAY_NONE},Fn=[kn.a.EDGE_TOP,kn.a.EDGE_RIGHT,kn.a.EDGE_BOTTOM,kn.a.EDGE_LEFT],Bn={FlexDirection:Ln,JustifyContent:An,FlexWrap:Rn,Align:Nn,PositionType:Mn,Display:Un,YogaCustomSizeConfig:{AUTO:"auto",SCREEN_SIZE:"screen",WINDOW_SIZE:"window"},YogaEdges:Fn};const Vn=new class{constructor(){var e,t,n;n=[],(t="animations")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}update(e){e*=16.6;const t=[];for(const n of this.animations){n.elapsed+=e;let r=n.easing(n.elapsed/n.time);r>1&&(r=1,t.push(n)),n.curX=n.fromX+(n.toX-n.fromX)*r,n.curY=n.fromY+(n.toY-n.fromY)*r}for(const n of t)this.remove(n)}add(e){this.animations.push(e)}remove(e){this.animations.splice(this.animations.indexOf(e),1)}};function Hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Gn{constructor(e=new DisplayObject){Hn(this,"target",void 0),Hn(this,"node",void 0),Hn(this,"children",[]),Hn(this,"parent",void 0),Hn(this,"animationConfig",void 0),Hn(this,"rescaleToYoga",!1),Hn(this,"keepAspectRatio",void 0),Hn(this,"_width",void 0),Hn(this,"_height",void 0),Hn(this,"_cachedLayout",void 0),Hn(this,"_lastLayout",void 0),Hn(this,"_lastRecalculationDuration",0),Hn(this,"_animation",void 0),Hn(this,"_needUpdateAsRoot",!1),Hn(this,"_aspectRatio",void 0),Hn(this,"_gap",0),Hn(this,"_marginTop",0),Hn(this,"_marginLeft",0),this.node=kn.a.Node.create(),e.__hasYoga=!0,this.fillDefaults(),this.target=e,this.target._texture?this.width=this.height="pixi":this.width=this.height="auto",(e instanceof _.q||e instanceof _.p)&&(this.keepAspectRatio=!0),e.on(Gn.LAYOUT_UPDATED_EVENT,()=>{this._lastLayout=this._cachedLayout,this._cachedLayout=void 0,this.children.forEach(e=>e.target.emit(Gn.LAYOUT_UPDATED_EVENT))}),e.on(Gn.NEED_LAYOUT_UPDATE,()=>{this.parent?this.parent.target.emit(Gn.NEED_LAYOUT_UPDATE):this._needUpdateAsRoot=!0})}get animationState(){return this._animation}set root(e){const t=Gn.roots.get(e);t&&t.addChild(this)}fromConfig(e){Object.assign(this,e)}set config(e){this.fromConfig(e)}copy(e){this.node.copyStyle(e.node),this.rescaleToYoga=e.rescaleToYoga,this.aspectRatio=e.aspectRatio,this.keepAspectRatio=e.keepAspectRatio,this._width=e._width,this._height=e._height}fillDefaults(){this.node.setFlexDirection(kn.a.FLEX_DIRECTION_ROW),this.node.setAlignItems(kn.a.ALIGN_FLEX_START),this.node.setAlignContent(kn.a.ALIGN_FLEX_START),this.node.setWidth("auto"),this.node.setHeight("auto")}addChild(e,t=this.node.getChildCount()){e.parent&&e.parent.removeChild(e),this.node.insertChild(e.node,t),this.children.splice(t,0,e),e.parent=this,this.updateGap()}removeChild(e){const{length:t}=this.children;this.children=this.children.filter(t=>t!==e),t!==this.children.length&&this.node.removeChild(e.node),e.parent=void 0}requestLayoutUpdate(){this.target.emit(Gn.NEED_LAYOUT_UPDATE)}recalculateLayout(){const e=performance.now();this.node.calculateLayout(),this._lastRecalculationDuration=performance.now()-e,this.target.emit(Gn.LAYOUT_UPDATED_EVENT)}update(){this.target.parent||!this.parent?(this._needUpdateAsRoot&&!this.parent&&this.recalculateLayout(),this._needUpdateAsRoot=!1):this.parent.removeChild(this)}get isRoot(){return!this.parent}get hasContantDeclaredSize(){return!!this._width&&"pixi"!==this._width&&"auto"!==this._width&&!!this._height&&"pixi"!==this._height&&"auto"!==this._height}willLayoutWillBeRecomputed(){return!this._cachedLayout}getComputedLayout(){if(!this._cachedLayout){if(this._cachedLayout=this.node.getComputedLayout(),"absolute"===this.position&&this.parent&&this.node.getWidth().unit===kn.a.UNIT_PERCENT&&(this._cachedLayout.width=Math.round(parseFloat(this._width)/100*this.parent.calculatedWidth)),"absolute"===this.position&&this.parent&&this.node.getHeight().unit===kn.a.UNIT_PERCENT&&(this._cachedLayout.height=Math.round(parseFloat(this._height)/100*this.parent.calculatedHeight)),this._aspectRatio&&this.keepAspectRatio){const e=this.calculatedWidth/this._aspectRatio;this._cachedLayout.top+=(this.calculatedHeight-e)/2,this._cachedLayout.height=e,this.height=this.calculatedHeight}var e,t,n,r;if(!this.animationConfig||this.animationConfig.shouldRunAnimation&&!this.animationConfig.shouldRunAnimation(this,this._lastLayout||this._cachedLayout,this._cachedLayout))this._animation={curX:this._cachedLayout.left,curY:this._cachedLayout.top};else this._animation={fromX:(null===(e=this._lastLayout)||void 0===e?void 0:e.left)||this._cachedLayout.left,fromY:(null===(t=this._lastLayout)||void 0===t?void 0:t.top)||this._cachedLayout.top,curX:(null===(n=this._lastLayout)||void 0===n?void 0:n.left)||this._cachedLayout.left,curY:(null===(r=this._lastLayout)||void 0===r?void 0:r.top)||this._cachedLayout.top,toX:this._cachedLayout.left,toY:this._cachedLayout.top,time:this.animationConfig.time,elapsed:0,easing:this.animationConfig.easing},Vn.add(this._animation)}return this._cachedLayout.left=this._animation.curX,this._cachedLayout.top=this._animation.curY,this._cachedLayout}set aspectRatio(e){this._aspectRatio!==e&&(this._aspectRatio=e,this.requestLayoutUpdate())}get aspectRatio(){return this._aspectRatio}get isWidthCalculatedFromPixi(){return"pixi"===this._width}get isHeightCalculatedFromPixi(){return"pixi"===this._height}get calculatedWidth(){return this._cachedLayout?this._cachedLayout.width:this.node.getComputedWidth()}get calculatedHeight(){return this._cachedLayout?this._cachedLayout.height:this.node.getComputedHeight()}set width(e){this._width!==e&&(this._width=e,"pixi"!==e&&this.node.setWidth(e),this.requestLayoutUpdate())}get width(){return this._parseValue(this.node.getWidth())}set height(e){this._height!==e&&(this._height=e,"pixi"!==e&&this.node.setHeight(e),this.requestLayoutUpdate())}get height(){return this._parseValue(this.node.getHeight())}set flexDirection(e){this.node.setFlexDirection(Bn.FlexDirection[e]),this.updateGap(),this.requestLayoutUpdate()}get flexDirection(){return Bn.FlexDirection[this.node.getFlexDirection()]}set justifyContent(e){this.node.setJustifyContent(Bn.JustifyContent[e]),this.requestLayoutUpdate()}get justifyContent(){return Bn.JustifyContent[this.node.getJustifyContent()]}set alignContent(e){this.node.setAlignContent(Bn.Align[e]),this.requestLayoutUpdate()}get alignContent(){return Bn.Align[this.node.getAlignContent()]}set alignItems(e){this.node.setAlignItems(Bn.Align[e]),this.requestLayoutUpdate()}get alignItems(){return Bn.Align[this.node.getAlignItems()]}set alignSelf(e){this.node.setAlignSelf(Bn.Align[e]),this.requestLayoutUpdate()}get alignSelf(){return Bn.Align[this.node.getAlignSelf()]}set flexWrap(e){this.node.setFlexWrap(Bn.FlexWrap[e]),this.requestLayoutUpdate()}get flexWrap(){return Bn.FlexWrap[this.node.getFlexWrap()]}set flexGrow(e){this.node.setFlexGrow(e),this.requestLayoutUpdate()}get flexGrow(){return this.node.getFlexGrow()}set flexShrink(e){this.node.setFlexShrink(e),this.requestLayoutUpdate()}get flexShrink(){return this.node.getFlexShrink()}set flexBasis(e){this.node.setFlexBasis(e),this.requestLayoutUpdate()}get flexBasis(){return this.node.getFlexBasis()}set position(e){this.node.setPositionType(Bn.PositionType[e]),this.requestLayoutUpdate()}get position(){return Bn.PositionType[this.node.getPositionType()]}set padding(e){Fn.forEach((t,n)=>{const r=e[n];this.node.setPadding(t,r)}),this.requestLayoutUpdate()}get padding(){return Fn.map(e=>this.node.getPadding(e).value||0)}set paddingAll(e){this.padding=[e,e,e,e]}set paddingTop(e){this.node.setPadding(kn.a.EDGE_TOP,e),this.requestLayoutUpdate()}get paddingTop(){return this.node.getPadding(kn.a.EDGE_TOP).value||0}set paddingBottom(e){this.node.setPadding(kn.a.EDGE_BOTTOM,e),this.requestLayoutUpdate()}get paddingBottom(){return this.node.getPadding(kn.a.EDGE_BOTTOM).value||0}set paddingLeft(e){this.node.setPadding(kn.a.EDGE_LEFT,e),this.requestLayoutUpdate()}get paddingLeft(){return this.node.getPadding(kn.a.EDGE_LEFT).value||0}set paddingRight(e){this.node.setPadding(kn.a.EDGE_RIGHT,e),this.requestLayoutUpdate()}get paddingRight(){return this.node.getPadding(kn.a.EDGE_RIGHT).value||0}set margin(e){Fn.forEach((t,n)=>{const r=e[n];this.node.setMargin(t,r)}),this.requestLayoutUpdate()}set marginAll(e){this.margin=[e,e,e,e]}get margin(){return Fn.map(e=>this.node.getMargin(e).value||0)}set marginTop(e){this._marginTop!==e&&(this._marginTop=e,this.node.setMargin(kn.a.EDGE_TOP,e),this.requestLayoutUpdate())}get marginTop(){return this._marginTop}set marginBottom(e){this.node.setMargin(kn.a.EDGE_BOTTOM,e),this.requestLayoutUpdate()}get marginBottom(){return this.node.getMargin(kn.a.EDGE_BOTTOM).value||0}set marginLeft(e){this._marginLeft!==e&&(this._marginLeft=e,this.node.setMargin(kn.a.EDGE_LEFT,e),this.requestLayoutUpdate())}get marginLeft(){return this._marginLeft}set marginRight(e){this.node.setMargin(kn.a.EDGE_RIGHT,e),this.requestLayoutUpdate()}get marginRight(){return this.node.getMargin(kn.a.EDGE_RIGHT).value||0}set border(e){Fn.forEach((t,n)=>{const r=e[n];this.node.setBorder(t,r)}),this.requestLayoutUpdate()}get border(){return Fn.map(e=>this.node.getBorder(e))}set borderAll(e){this.border=[e,e,e,e]}set borderTop(e){this.node.setBorder(kn.a.EDGE_TOP,e),this.requestLayoutUpdate()}get borderTop(){return this.node.getBorder(kn.a.EDGE_TOP)}set borderBottom(e){this.node.setBorder(kn.a.EDGE_BOTTOM,e),this.requestLayoutUpdate()}get borderBottom(){return this.node.getBorder(kn.a.EDGE_BOTTOM)}set borderLeft(e){this.node.setBorder(kn.a.EDGE_LEFT,e),this.requestLayoutUpdate()}get borderLeft(){return this.node.getBorder(kn.a.EDGE_LEFT)}set borderRight(e){this.node.setBorder(kn.a.EDGE_RIGHT,e),this.requestLayoutUpdate()}get borderRight(){return this.node.getBorder(kn.a.EDGE_RIGHT)}set top(e){this.node.setPosition(kn.a.EDGE_TOP,e),this.requestLayoutUpdate()}get top(){return this._parseValue(this.node.getPosition(kn.a.EDGE_TOP))}set bottom(e){this.node.setPosition(kn.a.EDGE_BOTTOM,e),this.requestLayoutUpdate()}get bottom(){return this._parseValue(this.node.getPosition(kn.a.EDGE_BOTTOM))}set left(e){this.node.setPosition(kn.a.EDGE_LEFT,e),this.requestLayoutUpdate()}get left(){return this._parseValue(this.node.getPosition(kn.a.EDGE_LEFT))}set right(e){this.node.setPosition(kn.a.EDGE_RIGHT,e),this.requestLayoutUpdate()}get right(){return this._parseValue(this.node.getPosition(kn.a.EDGE_RIGHT))}set minWidth(e){this.node.setMinWidth(e),this.requestLayoutUpdate()}get minWidth(){return this._parseValue(this.node.getMinWidth())}set minHeight(e){this.node.setMinHeight(e),this.requestLayoutUpdate()}get minHeight(){return this._parseValue(this.node.getMinHeight())}set maxWidth(e){this.node.setMaxWidth(e),this.requestLayoutUpdate()}get maxWidth(){return this._parseValue(this.node.getMaxWidth())}set maxHeight(e){this.node.setMaxHeight(e),this.requestLayoutUpdate()}get maxHeight(){return this._parseValue(this.node.getMaxHeight())}set display(e){this.node.setDisplay(Bn.Display[e]),this.requestLayoutUpdate()}get display(){return Display[this.node.getDisplay()]}set gap(e){this._gap!==e&&(this._gap=e,this.updateGap(),this.requestLayoutUpdate())}get gap(){return this._gap}updateGap(){if(!this._gap)return;let e=!1;this.children.forEach((t,n)=>{e&&("column"===this.flexDirection?t.marginTop=this._gap:t.marginLeft=this._gap),"absolute"!==t.position&&(e=!0)})}_parseValue(e){return e.unit===kn.a.UNIT_POINT?parseFloat(e.value):e.unit===kn.a.UNIT_PERCENT?e.value.toString()+"%":e.unit===kn.a.UNIT_AUTO?"auto":void 0}}var qn;Hn(Gn,"isRendering",!0),Hn(Gn,"roots",new Map),Hn(Gn,"LAYOUT_UPDATED_EVENT","LAYOUT_UPDATED_EVENT"),Hn(Gn,"AFTER_LAYOUT_UPDATED_EVENT","AFTER_LAYOUT_UPDATED_EVENT"),Hn(Gn,"NEED_LAYOUT_UPDATE","NEED_LAYOUT_UPDATE"),pt&&(console.log("FLEX_LAYOUT_ADDED"),function(e={usePixiSharedTicker:!0}){!function(e=_.f.prototype){Object.defineProperty(e,"yoga",{get(){return this.__yoga||(this.__yoga=new Gn(this),this.__hasYoga=!0),this.__yoga},set(e){this.__yoga=e}}),Object.defineProperty(e,"visible",{get(){return this._visible},set(e){this.__hasYoga&&this._visible!==e&&(this.__yoga.display=e?"flex":"none"),this._visible=e}});const{destroy:t}=e;e.destroy=function(){this.__hasYoga&&(this.yoga.children=[],this.yoga.node.free(),this.yoga.parent=void 0,this.__hasYoga=!1,delete this.yoga),t.call(this)},e.checkIfBoundingBoxChanged=function(){this.updateText&&this.updateText(!0);for(let n=0,r=this.__yoga.children.length;n<r;n++)this.__yoga.children[n].target.visible&&this.__yoga.children[n].target.checkIfBoundingBoxChanged();const e=this._texture,t=this._bounds;if(e){let t=Math.abs(this.__yoga.rescaleToYoga?1:this.scale.x)*e.orig.width,n=Math.abs(this.__yoga.rescaleToYoga?1:this.scale.y)*e.orig.height;!this.__yoga.rescaleToYoga&&this.updateHorizontalVertices?(t=this.width,n=this.height):this.__yoga.rescaleToYoga&&this.__yoga.keepAspectRatio&&(this.__yoga.aspectRatio=e.orig.width/e.orig.height),this._yogaLayoutHash=.12498*t+4121*n,this._yogaLayoutHash!==this._prevYogaLayoutHash&&("pixi"===this.__yoga._width&&this.__yoga.node.setWidth(t),"pixi"===this.__yoga._height&&this.__yoga.node.setHeight(n),this.emit(Gn.NEED_LAYOUT_UPDATE)),this._prevYogaLayoutHash=this._yogaLayoutHash}else if(t){if(this._yogaLayoutHash=-1e6,"pixi"===this.__yoga._width){const e=Math.round(t.maxX-t.minX);this.__yoga.node.setWidth(e),this._yogaLayoutHash+=.2343*e}if("pixi"===this.__yoga._height){const e=Math.round(t.maxY-t.minY);this.__yoga.node.setHeight(e),this._yogaLayoutHash+=5121*e}-1e6!==this._yogaLayoutHash&&this._yogaLayoutHash!==this._prevYogaLayoutHash&&this.emit(Gn.NEED_LAYOUT_UPDATE),this._prevYogaLayoutHash=this._yogaLayoutHash}},e.updateYogaLayout=function(){this.__yoga.update();const e=this.__yoga.willLayoutWillBeRecomputed(),t=this.__yoga.getComputedLayout();(e||this.__yoga.animationConfig)&&(this.transform.position.set(t.left,t.top),this.__yoga.rescaleToYoga&&(this.width=t.width,this.height=t.height),e&&this.emit(Gn.AFTER_LAYOUT_UPDATED_EVENT,t));for(let n=0,r=this.__yoga.children.length;n<r;n++)this.__yoga.children[n].target.visible&&this.__yoga.children[n].target.updateYogaLayout()}}(),function(e=_.d.prototype){Object.defineProperty(e,"flex",{get(){return this.__flex},set(e){!this.flex&&e&&(this.children.forEach(e=>{this.yoga.addChild(e.yoga),this.flexRecursive&&e instanceof _.d&&!1!==e.flex&&(e.flexRecursive=!0)}),this.emit(Gn.NEED_LAYOUT_UPDATE)),this.flex&&!e&&this.children.forEach(e=>{this.yoga.removeChild(e.yoga)}),this.__flex=e}}),Object.defineProperty(e,"flexRecursive",{get(){return this.__flexRecursive},set(e){this.__flexRecursive=e,this.flex=e}});const{addChild:t}=e,{removeChildren:n}=e,{addChildAt:r}=e,{removeChild:a}=e,i=e.updateTransform;e.addChild=function(...e){if(1===e.length){const t=e[0];this.flex&&(t.yoga=t.yoga||new Gn(t),t.__hasYoga=!0,this.yoga.addChild(t.yoga)),this.flexRecursive&&t instanceof _.d&&!1!==t.flex&&(t.flexRecursive=!0),this.emit(Gn.NEED_LAYOUT_UPDATE)}return t.call(this,...e)},e.addChildAt=function(e,t){return this.flex&&(e.yoga=e.yoga||new Gn(e),this.__hasYoga=!0,this.yoga.addChild(e.yoga,t)),this.flexRecursive&&e instanceof _.d&&!1!==e.flex&&(e.flexRecursive=!0),this.emit(Gn.NEED_LAYOUT_UPDATE),r.call(this,e,t)},e.removeChild=function(...e){if(1===e.length){const t=e[0];this.flex&&this.yoga.removeChild(t.yoga),this.emit(Gn.NEED_LAYOUT_UPDATE)}return a.call(this,...e)},e.removeChildren=function(e,t){if(this.__hasYoga){const n=e||0,r="number"===typeof t?t:this.children.length,a=r-n;if(a>0&&a<=r){this.children.slice(n,a).forEach(e=>e.__hasYoga&&this.yoga.removeChild(e.yoga))}this.emit(Gn.NEED_LAYOUT_UPDATE)}return n.call(this,e,t)},e.updateTransform=function(){return this.__hasYoga&&this.__yoga.isRoot&&Gn.isRendering&&(this.checkIfBoundingBoxChanged(),this.updateYogaLayout()),i.call(this)}}(),e.usePixiSharedTicker&&_.t.shared.add(e=>Vn.update(e))}(),(qn=_.v()).on("prerender",()=>Gn.isRendering=!0),qn.on("postrender",()=>Gn.isRendering=!1));var zn=n(64),Yn=n.n(zn),Wn=n(399),$n=n.n(Wn),Xn=n(400),Jn=n.n(Xn),Kn=n(401),Qn=n.n(Kn),Zn=n(402),er=n.n(Zn),tr=n(403),nr=n.n(tr),rr=n(404),ar=n.n(rr),ir=n(405),or=n.n(ir),lr=n(406),sr=n.n(lr);Yn.a.use(sr.a),or()(Yn.a),Yn.a.use(ar.a),Yn.a.use(nr.a),Yn.a.use($n.a),Yn.a.use(Jn.a),Yn.a.use(er.a),Yn.a.use(Qn.a),_.w.ROUND_PIXELS=!1,_.w.PRECISION_FRAGMENT=_.j.LOW,_.w.RESOLUTION=1,_.w.SCALE_MODE=_.m.NEAREST;const cr={};var dr=n(125);const ur=e=>{const{element:t,contextRef:n,config:r,item:i}=e,{renderEvents:o=[]}=r,l=Object(dr.a)();return a.a.useEffect(()=>{l.current&&t.data({[qe]:null===i||void 0===i?void 0:i.data})},[null===i||void 0===i?void 0:i.data]),a.a.useEffect(()=>{o.forEach(e=>{t.on(e,()=>{var e,t;null===(e=n.current)||void 0===e||null===(t=e.render)||void 0===t||t.call(e)})});const e=t.isNode();return t.on(Xe,()=>{if(e)t.connectedEdges().forEach(e=>{e.emit(et)});else{const e=t;e.source().emit(Qe),e.target().emit(Qe)}}),t.on(Je,()=>{if(e)t.connectedEdges().forEach(e=>{e.emit(tt)});else{const e=t;e.source().emit(Ze),e.target().emit(Ze)}}),()=>{o.forEach(e=>{t.off(e)}),t.off(Xe),t.off(Je)}},[t,o]),a.a.useEffect(()=>{var e,a,o;const l=n.current.settings.filtered,s=null===(e=null===(a=r.filter)||void 0===a||null===(o=a.test)||void 0===o?void 0:o.call(a,{element:t,item:i}))||void 0===e||e;var c;(n.current.settings.filtered=s,l!==s)&&(Ct.update(t,n.current),wt(t)&&(null===(c=n.current)||void 0===c||c.render()))},[r.filter]),a.a.useMemo(()=>{t.hovered=()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.settings.hovered},t.filtered=()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.settings.filtered}},[t]),{}};function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach((function(t){hr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const gr={x:0,y:0,width:0,height:0};var fr=e=>{const{position:t,onPositionChange:n,graphID:r,config:i={},item:o,isCluster:l=!1}=e,{id:s}=o,c=Object(dr.a)(),{cy:d,clustersByNodeId:u,clustersByChildClusterId:m}=cr[r],p=l?m[s]:u[s],[,h]=Object(g.l)({},()=>{}),f=a.a.useRef({render:e=>h({},e),onPositionChange:()=>{null===n||void 0===n||n({element:y,context:f.current}),y.connectedEdges().forEach(e=>{Ct.get(e).onPositionChange()})},boundingBox:gr,settings:{filtered:!0,visibility:{cluster:Ot(s,p)},hovered:!1}}),y=a.a.useMemo(()=>d.add({data:{id:s,[ze]:f.current,[qe]:null===o||void 0===o?void 0:o.data},position:pr({},t),group:"nodes"}),[d,s]);return a.a.useEffect(()=>{const{current:{onPositionChange:e}}=f,t=()=>{f.current.settings.hovered=!0,Ct.update(y,f.current)},n=()=>{f.current.settings.hovered=!1,Ct.update(y,f.current)};return y.on(Ke,e),y.on(rt,t),y.on(at,n),()=>{y.off(Ke,"#"+y.id(),e),y.off(rt,"#"+y.id(),t),y.off(at,"#"+y.id(),n),d.remove(y)}},[d,s]),a.a.useMemo(()=>{c.current&&y.position(t)},[t.x,t.y]),a.a.useMemo(()=>{const e=Ot(y.id(),p);if(e!==f.current.settings.visibility.cluster){const t=wt(y);f.current.settings.visibility.cluster=e,Ct.update(y,f.current),t!==wt(y)&&f.current.render()}},[y,p]),ur({contextRef:f,cy:d,element:y,config:i,item:o}),{element:y,context:f.current,clusters:p,cy:d}};const{Context:yr,useSelector:br,Provider:vr}=Object(g.e)({},{immer:!1}),Er=vr,Or=br;const wr=Object(D.PixiComponent)("PIXIContainer",{create:e=>{const{onDrag:t,draggable:n=!1,interactive:r=!1}=e,a=new _.d;if(a.interactive=r||n,n){const{onDown:e,onMove:n}=function(e){const t={position:null};return document.addEventListener("pointerup",()=>{t.position=null}),{onDown:e=>{t.position=e},onMove:n=>i.qb(i.A,()=>{var r;const a=null!==(r=e(yn.h(t.position)(n)))&&void 0!==r?r:{};return t.position=n,!1===(null===a||void 0===a?void 0:a.keepDragging)&&(t.position=null),i.q("position",a)&&(t.position=a.position),a})(t.position)}}(e=>{const{parent:{scale:n}}=a;a.x+=e.x/n.x,a.y+=e.y/n.y,t&&t({x:a.x,y:a.y})});a.on("pointerdown",t=>{const{originalEvent:n}=t.data,{x:r,y:a}=Pt(n);e({x:r,y:a})}).on("pointermove",e=>{const{originalEvent:t}=e.data,{x:r,y:a}=Pt(t);n({x:r,y:a})})}return a},applyProps:(e,t,n)=>{var r;const a=mt(n),{left:i=0,top:o=0,width:l,height:s}=null!==(r=a.style)&&void 0!==r?r:{};ht(e,t,a,{isFlex:!1}),e.x=i,e.y=o,l&&(e.width=l),s&&(e.height=s)}}),xr={x:0,y:0},Dr=Object(g.m)((e,t)=>{var n,r,i,o,l;const{item:s,graphID:c,children:d,config:u={},graphRef:m}=e,p=a.a.useRef(null);a.a.useEffect(()=>{if(s.ids.length>0){const e={x:0,y:0};s.ids.forEach(t=>{const n=f.$id(t).position();e.x+=n.x,e.y+=n.y});const{length:t}=s.ids,n={x:e.x/t,y:e.y/t};h.position(n)}},[s.ids]);const{element:h,context:g,cy:f}=fr({graphID:c,config:u,position:null!==(n=u.position)&&void 0!==n?n:xr,onPositionChange:({element:e})=>{const t=p.current,{x:n,y:r}=e.position();t.x=n,t.y=r,g.boundingBox.x=n,g.boundingBox.y=r},item:s}),{x:y,y:b}=h.position(),v=a.a.useCallback(e=>{h.position(e)},[h]);a.a.useEffect(()=>{const e=p.current;g.boundingBox=Et(e)});const E=x(),O=wt(h)&&(null===(r=s.visible)||void 0===r||r),w=g.settings.filtered?1:null!==(i=null===(o=u.filter)||void 0===o||null===(l=o.settings)||void 0===l?void 0:l.opacity)&&void 0!==i?i:.2;return a.a.createElement(wr,{ref:p,style:{left:y,top:b},alpha:w,visible:O,draggable:!0,onDrag:v},d({item:s,element:h,cy:f,theme:E,graphRef:m}))},{isForwardRef:!0});function _r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(n),!0).forEach((function(t){Pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Cr=e=>{const t=e.id(),n=e.target(),r=e.source(),a=n.edgesWith(r),o=a.length,l=Math.floor(o/2);let s=0;a.forEach((e,n)=>{e.id()===t&&(s=n)});let c=0;return o>1&&(c=i.U(-l,l+1)[s],o%2===0&&c>=0&&(c+=1)),{sortedIndex:c,index:s,count:o}},Tr=(e,t)=>{const n=e.position(),r=t.position(),a=yn.h(n)(r),i=yn.f(a),o=yn.g(Math.PI/2)(i),l=yn.d(n)(r),s=e.id()>t.id()?1:-1;return{fromPosition:n,toPosition:r,distanceVector:a,unitVector:i,normVector:o,midpointPosition:l,undirectedUnitVector:yn.e(s)(i),undirectedNormVector:yn.e(s)(o)}},jr=Object(g.m)((e,t)=>{var n,r,i;const{item:o,graphID:l,children:s,drawLine:c=wn,config:d={},graphRef:u}=e,m=x(),p=a.a.useRef(null),h=a.a.useRef(null),f=a.a.useCallback(({element:e,cy:t})=>{const n=e.target(),r=e.source(),a=Cr(e),{distanceVector:i,midpointPosition:l,normVector:s,unitVector:d,undirectedUnitVector:g,undirectedNormVector:f}=Tr(r,n);h.current.x=l.x+a.sortedIndex*f.x*36,h.current.y=l.y+a.sortedIndex*f.y*36;const y=Ct.getNodeContext(r),b=Ct.getNodeContext(n);return c(Ir(Ir({item:o,element:e,graphRef:u,theme:m,sourceElement:r,targetElement:n,fill:I.b(e.selected()?m.palette.primary.main:e.source().selected()||e.target().selected()?m.palette.secondary.main:m.palette.background.paper),graphics:p.current,to:b.boundingBox,from:y.boundingBox,directed:!0,distance:36*a.sortedIndex,margin:{x:10*a.sortedIndex,y:10*a.sortedIndex},distanceVector:i,unitVector:d,normVector:s,undirectedUnitVector:g,undirectedNormVector:f},a),{},{cy:t}))},[h,p]),y=a.a.useCallback(({element:e})=>{f({cy:v,element:e})},[f]),{element:b,cy:v,context:E}=(e=>{const{onPositionChange:t,graphID:n,config:r={},item:i}=e,{id:o,source:l,target:s}=i,{cy:c}=cr[n],[,d]=Object(g.l)({},()=>{}),u=a.a.useRef({render:e=>{d({},e)},onPositionChange:()=>{null===t||void 0===t||t({element:u.current.element,context:u.current,cy:c})},element:null,settings:{filtered:!0,nodeFiltered:!0,visibility:{nodeVisible:!0}}});u.current.element=a.a.useMemo(()=>{const{current:{element:e}}=u;return e&&c.remove(e),c.add({data:{id:o,source:l,target:s,[ze]:u.current,[qe]:null===i||void 0===i?void 0:i.data},group:"edges"})},[c,o,l,s]);const{current:{element:m}}=u;return a.a.useEffect(()=>{u.current.onPositionChange=()=>{null===t||void 0===t||t({cy:c,element:m,context:u.current})},Ct.update(m,u.current)},[t]),a.a.useEffect(()=>()=>{c.remove(m)},[c,o,l,s]),a.a.useEffect(()=>{const e=()=>{const e=wt(m),t=Ct.get(m.source()),n=Ct.get(m.target()),r=wt(m.source()),a=wt(m.target()),i=r&&a;let o=!1;i!==u.current.settings.visibility.nodeVisible&&(u.current.settings.visibility.nodeVisible=i,Ct.update(m,u.current),e!==wt(m)&&(o=!1));const l=u.current.settings.nodeFiltered,s=t.settings.filtered&&n.settings.filtered;u.current.settings.nodeFiltered=s,s!==l&&(o=!0,Ct.update(m,u.current)),o&&u.current.render()};return m.source().on(nt,e),m.target().on(nt,e),()=>{m.source().off(nt,"#"+m.id(),e),m.target().off(nt,"#"+m.id(),e)}},[m]),ur({contextRef:u,cy:c,element:m,item:i,config:r}),{element:m,context:u.current,cy:c}})({graphID:l,onPositionChange:y,config:d,item:o});a.a.useEffect(()=>{f({cy:v,element:b})}),a.a.useEffect(()=>{h.current.zIndex=-99},[]);const O=Cr(b),{midpointPosition:w,toPosition:D,fromPosition:_,undirectedNormVector:P}=Tr(b.source(),b.target()),C=wt(b),T=E.settings.filtered&&E.settings.nodeFiltered?1:null!==(n=null===d||void 0===d||null===(r=d.filter)||void 0===r||null===(i=r.settings)||void 0===i?void 0:i.opacity)&&void 0!==n?n:.2,j=b.target(),S=b.source();return a.a.createElement(a.a.Fragment,null,a.a.createElement(wr,{ref:h,alpha:T,visible:C,style:{left:w.x+O.sortedIndex*P.x*36,top:w.y+O.sortedIndex*P.y*36,zIndex:-99},interactive:!0,mouseover:()=>{b.emit(rt)},mouseout:()=>{b.emit(at)}},s(Ir(Ir({item:o,element:b,to:D,from:_,cy:v,theme:m,graphRef:u},O),{},{targetElement:j,sourceElement:S}))),a.a.createElement(Dn,{ref:p,visible:C,alpha:T}))},{isForwardRef:!0}),Sr={x:0,y:0},kr=Object(g.m)((e,t)=>{var n,r,i,o,l;const{item:s,graphID:c,children:d,config:u={},graphRef:m}=e,p=a.a.useRef(null),{element:h,context:g,cy:f}=fr({graphID:c,config:u,position:null!==(n=null!==(r=u.position)&&void 0!==r?r:s.position)&&void 0!==n?n:Sr,onPositionChange:({element:e})=>{const{x:t,y:n}=e.position();p.current.x=t,p.current.y=n,g.boundingBox.x=t,g.boundingBox.y=n},item:s}),{x:y,y:b}=h.position(),v=a.a.useCallback(e=>{h.position(e)},[h]);a.a.useEffect(()=>{g.boundingBox=Et(p.current)});const E=x(),O=wt(h),w=g.settings.filtered?1:null!==(i=null===(o=u.filter)||void 0===o||null===(l=o.settings)||void 0===l?void 0:l.opacity)&&void 0!==i?i:.2;return a.a.createElement(wr,{ref:p,style:{left:y,top:b},alpha:w,visible:O,draggable:!0,onDrag:v,mouseover:()=>{h.emit(rt)},mouseout:()=>{h.emit(at)}},d({item:s,element:h,cy:f,theme:E,graphRef:m,context:g}))},{isForwardRef:!0}),Lr=({item:e,element:t,cy:n,theme:r})=>{var o,l;const s=t.connectedEdges(":selected").length>0;return a.a.createElement(Xt,{style:{width:150,height:150,justifyContent:"center",alignItems:"center",display:"flex",backgroundColor:s?r.palette.secondary.main:t.selected()?r.palette.primary.main:r.palette.warning.main,borderRadius:20},interactive:!0,pointertap:()=>{_t(n),t.select()}},a.a.createElement(Yt,{style:{position:"absolute",top:-90,color:"black"},isSprite:!0},null!==(o=null===(l=i.D(e.id.split("/")))||void 0===l?void 0:l.substring(0,10))&&void 0!==o?o:e.id))},Ar=({item:e,element:t,cy:n,theme:r})=>{var o,l;const s=t.connectedEdges(":selected").length>0;return a.a.createElement(Xt,{style:{width:50,height:50,justifyContent:"center",alignItems:"center",display:"flex",backgroundColor:s?r.palette.secondary.main:t.selected()?r.palette.primary.main:r.palette.background.paper,borderRadius:50},interactive:!0,pointertap:()=>{_t(n),t.select()}},a.a.createElement(Yt,{style:{position:"absolute",top:-40,color:"black"},isSprite:!0},null!==(o=null===(l=i.D(e.id.split("/")))||void 0===l?void 0:l.substring(0,10))&&void 0!==o?o:e.id))},Rr=({cy:e,item:t,element:n})=>{var r,o;return a.a.createElement(Xt,{style:{position:"absolute",justifyContent:"center",alignItems:"center",display:"flex"},pointertap:()=>{_t(e),n.select()}},a.a.createElement(Yt,{style:{color:"black",fontSize:12},isSprite:!0},null!==(r=null===(o=i.D(t.id.split("/")))||void 0===o?void 0:o.substring(0,10))&&void 0!==r?r:t.id))};var Nr=n(407),Mr=n(408);const Ur=["children"];function Fr(){return(Fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Br(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Vr=2,Hr=1,Gr=0,qr=()=>{},zr=Object(D.PixiComponent)("Viewport",{create:e=>{const{app:{renderer:t,ticker:n,stage:r},height:a,width:o,onCreate:l,onBoxSelectionStart:s=qr,onBoxSelection:c=qr,onBoxSelectionEnd:d=qr}=e,u=new Nr.a({screenWidth:o,screenHeight:a,worldWidth:o,worldHeight:a,ticker:n,interaction:t.plugins.interaction,passiveWheel:!1,divWheel:t.view});null===l||void 0===l||l(u),u.sortableChildren=!0,u.drag({pressDrag:!1}).pinch().wheel({trackpadPinch:!0,wheelZoom:!1});const m={current:{boxSelection:{enabled:!1,startPosition:null,currentPosition:null,boxElement:null}}};u.on("pointerdown",e=>{if(e.target===e.currentTarget&&!(e=>{var t;const n=null!==(t=e.touches)&&void 0!==t?t:e.changedTouches;return n&&n.length>0})(e)){const t=It(u,e.data.originalEvent);m.current.boxSelection.startPosition={x:t.x,y:t.y},u.plugins.pause("drag")}u.isClick=!0,setTimeout(()=>{u.isClick=!1},250)}),u.on("pointerup",e=>{if(u.plugins.resume("drag"),m.current.boxSelection.enabled){const{boxElement:t,currentPosition:n,startPosition:r}=m.current.boxSelection;d({event:e,startPosition:r,endPosition:n,boundingBox:Dt(r,n)}),u.removeChild(t),null===t||void 0===t||t.destroy()}m.current.boxSelection={}}),u.on("pointermove",e=>{if(m.current.boxSelection.startPosition&&!m.current.boxSelection.boxElement){const t=It(u,e.data.originalEvent);if(i.S(yn.h(m.current.boxSelection.startPosition),yn.c)(t)>20){const t=new _.g;u.addChild(t),m.current.boxSelection.boxElement=t,s({event:e,startPosition:m.current.boxSelection.startPosition}),m.current.boxSelection.enabled=!0}}if(m.current.boxSelection.enabled){const t=It(u,e.data.originalEvent);m.current.boxSelection.currentPosition={x:t.x,y:t.y};const{startPosition:n,currentPosition:r,boxElement:a}=m.current.boxSelection,i=a,o=Dt(n,r);c({event:e,endPosition:r,startPosition:n,boundingBox:o}),i.x=o.x,i.y=o.y,((e,t)=>{const{style:{width:n=0,height:r=0,backgroundColor:a="black",borderRadius:i=0,borderWidth:o=0,borderColor:l="black"}={}}=t;e.clear(),e.beginFill(I.b(a),I.a(a)),e.lineStyle(o,I.b(l));const s=n/2;n===r&&i>=s?e.drawCircle(s,s,s):e.drawRoundedRect(0,0,n,r,i),e.endFill()})(i,{style:{width:o.width,height:o.height,backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0.7)",borderWidth:1/u.scale.x}})}}),u.on("wheel",e=>{e.event.preventDefault()});const p=new Mr.a({dirtyTest:!1});return p.addList(u.children),p.cull(u.getVisibleBounds()),_.t.shared.add(()=>{u.dirty&&(p.cull(u.getVisibleBounds()),u.children.map(e=>{i.y(e._visible)&&(e.visible=e._visible)}),u.dirty=!1);const e=u.children.filter(e=>e.visible),t=e.length,n=t<150?Vr:t<400?Hr:Gr,r=e=>{e instanceof _.p&&e.forceToRender(),e.children&&e.children.forEach(e=>{r(e)})};if(u.qualityLevel!==n)switch(u.oldQualityLevel=u.qualityLevel,u.qualityLevel=n,u.qualityChanged=!0,n){case Vr:_.w.ROUND_PIXELS=!0,_.w.PRECISION_FRAGMENT=_.j.HIGH,_.w.RESOLUTION=32,_.w.SCALE_MODE=_.m.LINEAR;break;case Hr:_.w.ROUND_PIXELS=!1,_.w.PRECISION_FRAGMENT=_.j.MEDIUM,_.w.RESOLUTION=12,_.w.SCALE_MODE=_.m.NEAREST;break;case Gr:_.w.ROUND_PIXELS=!1,_.w.PRECISION_FRAGMENT=_.j.LOW,_.w.RESOLUTION=.8,_.w.SCALE_MODE=_.m.NEAREST}u.qualityChanged&&!u.moving&&(u.qualityChanged=!1,u.oldQualityLevel<u.qualityLevel&&e.forEach(e=>{r(e)}))}),u},applyProps:(e,t,n)=>{const{transform:r,onPress:a,zoom:o,width:l,height:s}=n;e.resize(l,s),e.removeListener("pointertap",e.clickEvent),e.clickEvent=t=>i.s(i.j(t.target),()=>{const{x:n,y:r}=e.toWorld(t.data.global);return i.qb(i.j(!0),()=>null===a||void 0===a?void 0:a({nativeEvent:t,position:{x:n,y:r}}))(e.isClick)},i.r)(t.currentTarget),i.lb(i.j(t.zoom),()=>e.setZoom(null!==o&&void 0!==o?o:1,!0))(o),i.lb(i.j(t.transform),()=>e.setTransform(null===r||void 0===r?void 0:r.x,null===r||void 0===r?void 0:r.y,null===r||void 0===r?void 0:r.scaleX,null===r||void 0===r?void 0:r.scaleY,null===r||void 0===r?void 0:r.rotation,null===r||void 0===r?void 0:r.skewX,null===r||void 0===r?void 0:r.skewY,null===r||void 0===r?void 0:r.pivotX,null===r||void 0===r?void 0:r.pivotY))(r),e.on("pointertap",e.clickEvent)},didMount:()=>{},willUnmount:()=>{}});const Yr=Object(g.m)((function(e,t){const{children:n}=e,r=Br(e,Ur),i=Object(D.useApp)(),o=Object(g.j)(t,{}),l=a.a.useRef({pressedKeys:{},intervalTimeout:null});return a.a.useEffect(()=>{const e=e=>{if(document.body===e.target&&(l.current.pressedKeys[e.key]=!0,!l.current.intervalTimeout)){const e=setInterval(()=>{const{current:{center:e}}=o,{current:{pressedKeys:t}}=l,n={x:0,y:0};Object.keys(t).map(e=>{switch(e){case"ArrowRight":n.x+=30;break;case"ArrowLeft":n.x-=30;break;case"ArrowUp":n.y-=30;break;case"ArrowDown":n.y+=30}});const r=new _.l(e.x+n.x,e.y+n.y);o.current.center=r},5);l.current.intervalTimeout=e}},t=e=>{clearInterval(l.current.intervalTimeout),l.current.intervalTimeout=null,l.current.pressedKeys={}};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),a.a.createElement(zr,Fr({ref:o,app:i},r),n)}),{isForwardRef:!0}),Wr=["ids"],$r=["ids"];function Xr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(n),!0).forEach((function(t){Qr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Zr={renderEvents:[Xe,Je,Qe,Ze,rt,at]},ea={renderEvents:[Xe,Je,et,tt,rt,at]},ta={theme:y},na=Object(g.m)((e,t)=>{var n,r,o;const{style:l={},nodes:s=[],edges:c=[],onPress:d,renderNode:u=Ar,renderEdge:m=Rr,drawLine:p,extraData:h,config:f={},onBoxSelection:y,selectedElementIds:b=[],children:v,renderClusterNode:E=Lr}=e,O=null===l||void 0===l?void 0:l.width,x=null===l||void 0===l?void 0:l.height,_=a.a.useMemo(()=>Kr(Kr({},ta),f),[f]),{theme:P}=_,C=a.a.useMemo(()=>{var e;return null!==(e=_.graphId)&&void 0!==e?e:i.ob()},[_.graphId]),T=a.a.useRef(null),{cy:j}=(e=>{const{onLoad:t,id:n,clusters:r=[]}=e,i=a.a.useRef(!1),o=a.a.useMemo(()=>{if(cr[n])return i.current=!0,cr[n];const e=Yn()({elements:[],headless:!0,styleEnabled:!0});return cr[n]={cy:e,clustersByNodeId:{},clustersByChildClusterId:{}},cr[n]},[n]),{cy:l}=o;return a.a.useMemo(()=>{const e={};r.forEach(t=>{t.ids.forEach(n=>{var r;const a=null!==(r=e[n])&&void 0!==r?r:[];a.push(t),e[n]=a})});const t={};r.forEach(e=>{e.childClusterIds.forEach(n=>{var r;const a=null!==(r=t[n])&&void 0!==r?r:[];a.push(e),t[n]=a})}),o.clustersByNodeId=e,o.clustersByChildClusterId=t},[o,r]),a.a.useEffect(()=>{if(!i.current)return setTimeout(()=>{null===t||void 0===t||t(l)},500),()=>{i.current||(delete cr[n],l.destroy())}},[l]),o})({id:C,onLoad:()=>{},clusters:_.clusters}),S=Object(g.j)(t,{cy:j}),k=a.a.useRef(null);a.a.useEffect(()=>{var e;S.current.app=null===(e=T.current)||void 0===e?void 0:e.app,S.current.app&&S.current.app.view.addEventListener("contextmenu",e=>{e.preventDefault()})},[T.current]),a.a.useEffect(()=>{_t(j),b.forEach(e=>{j.$id(e).select()})},[b,j]),a.a.useEffect(()=>{if(T.current&&_.layout){var e;const{hitArea:t}=S.current.viewport,n={x1:t.x,y1:t.y,w:t.width,h:t.height};null===(e=k.current)||void 0===e||e.stop(),k.current=j.createLayout(Kr({boundingBox:n},_.layout)),k.current.on("layoutstop",()=>{k.current=null,j.edges().forEach(e=>{Ct.get(e).onPositionChange()}),S.current.viewport.dirty=!0}),k.current.start()}},[_.layout]);const L=a.a.useMemo(()=>I.b(P.palette.background.default),[P.palette.background.default]);a.a.useEffect(()=>{T.current.app.renderer.backgroundColor=L},[L]);const A=Kr(Kr({},Zr),null!==(n=_.nodes)&&void 0!==n?n:{}),{ids:R}=A,N=Xr(A,Wr),M=Kr(Kr({},ea),null!==(r=_.edges)&&void 0!==r?r:{}),{ids:U}=M,F=Xr(M,$r),B=a.a.useCallback(e=>{_t(j),null===d||void 0===d||d(e)},[j,d]);return a.a.createElement(g.c,{style:l},a.a.createElement(D.Stage,{ref:T,width:O,height:x,options:{width:O,height:x,resolution:window.devicePixelRatio||1,antialias:!0,autoDensity:!0,backgroundColor:L}},a.a.createElement(w,{value:P},a.a.createElement(Yr,{onCreate:e=>{S.current.viewport=e},onPress:B,zoom:_.zoom,transform:_.transform,width:O,height:x,onBoxSelectionEnd:({event:e,boundingBox:t})=>{_t(j);const n=[],r=j.nodes().filter(e=>{const r=e.position(),a=(Ct.get(e),wt(e)&&((e,t)=>{const{x:n,y:r}=e,a=t.x+t.width,i=t.y+t.height,o=t.x<a?t.x:a,l=t.y<i?t.y:i,s=t.x<a?a:t.x,c=t.y<i?i:t.y;return n>=o&&r>=l&&n<=s&&r<=c})(r,t));return a&&(e.select(),n.push(e.id())),a});null===y||void 0===y||y({boundingBox:t,elements:r,event:e,elementIds:n})}},a.a.createElement(g.a,{extraData:[h,_.nodes,_.clusters],data:s,accessor:["children"],keyExtractor:e=>e.id,renderItem:({item:e})=>{var t;return a.a.createElement(kr,{graphID:C,item:e,graphRef:S,config:Kr(Kr({},null!==N&&void 0!==N?N:{}),null!==(t=null===R||void 0===R?void 0:R[e.id])&&void 0!==t?t:{})},u)}}),a.a.createElement(g.a,{extraData:[h,_.edges,_.clusters],data:c,accessor:["children"],keyExtractor:e=>e.id,renderItem:({item:e})=>{var t;return a.a.createElement(jr,{graphID:C,item:e,graphRef:S,drawLine:p,config:Kr(Kr({},null!==F&&void 0!==F?F:{}),null!==(t=null===U||void 0===U?void 0:U[e.id])&&void 0!==t?t:{})},m)}}),a.a.createElement(g.a,{extraData:[h],data:null!==(o=_.clusters)&&void 0!==o?o:[],accessor:["children"],keyExtractor:e=>e.id,renderItem:({item:e})=>{var t;return a.a.createElement(Dr,{graphID:C,item:e,graphRef:S,config:Kr(Kr({},null!==N&&void 0!==N?N:{}),null!==(t=null===R||void 0===R?void 0:R[e.id])&&void 0!==t?t:{})},E)}}),v))))},{isForwardRef:!0,isEqual:i.k(i.w(Function))});na.View=Xt,na.Text=Yt,na.Image=At,na.Pressable=e=>{const{buttonMode:t}=e,n=Pn(e,_n),r=a.a.useRef(null);return a.a.useEffect(()=>{i.qb(i.A,()=>{const e=r.current;e.buttonMode=!!t,e.interactive=!0})(r.current)},[r,t]),a.a.createElement(Xt,In({ref:r},n))},na.Graphics=Dn,na.ProfileTemplate=Jt,na.Layouts=S,na.Clusters=fn,na.HoverContainer=e=>{const{children:t,renderHoverElement:n}=e,r=jn(e,Cn),[i,o]=a.a.useState({hovered:!1}),l=a.a.useCallback(()=>{o({hovered:!0})},[]),s=a.a.useCallback(()=>{o({hovered:!1})},[]);return a.a.createElement(Xt,Tn({interactive:!0},r,{pointerover:l,pointerout:s}),t,i.hovered&&n())},na.elementType={EDGE:"EDGE",NODE:"NODE"};var ra=n(1053),aa=n(454),ia=n(1124);const oa=e=>{const{children:t,onSelect:n,items:r=[],open:i,position:o={x:0,y:0},graphEditorRef:l}=e;return a.a.createElement(ra.a,{container:document.body},a.a.createElement(aa.a,{open:i,onClose:()=>null===n||void 0===n?void 0:n(),anchorReference:"anchorPosition",anchorPosition:{left:o.x,top:o.y}},r.map(({value:e,label:t})=>a.a.createElement(ia.a,{key:e,onClick:()=>{null===n||void 0===n||n(e)}},t))))};var la=n(1126);function sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const da=e=>{const{nodes:t=[],edges:n=[]}=e,r=Yn()({elements:i.g(t.map(e=>({data:e,group:"nodes"})),n.map(e=>({data:e,group:"edges"}))),headless:!0}),{indegree:a,outdegree:o}=r.elements().degreeCentralityNormalized({directed:!0}),{degree:l}=r.elements().degreeCentralityNormalized({}),{closeness:s}=r.elements().closenessCentralityNormalized({}),{betweenness:c}=r.elements().betweennessCentrality({}),{rank:d}=r.elements().pageRank({}),u={};return r.nodes().map(e=>{const t=e.id();return u[t]={degree:l(e),indegree:a(e),outdegree:o(e),closeness:s(e),betweenness:c(e),pageRank:d(e)},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sa(Object(n),!0).forEach((function(t){ca(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:t},u[t])}),r.destroy(),u};function ua(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ma{constructor(e,t,n,r){this.callback=e,this.key=t,this.ms=n,this.params=r,ua(this,"executedTime",void 0),ua(this,"paused",!1),ua(this,"startTime",(new Date).getTime()),ua(this,"timeSpentWaiting",0)}}class pa{static clear(e,t=!0){clearTimeout(pa.keyId[e]),delete pa.keyId[e],t&&(delete pa.metadata[e],delete pa.originalMs[e])}static set(...e){let t,n,r,a;if(0===e.length)throw Error("Timeout.set() requires at least one argument");if("function"===typeof e[1]?[t,a,n,...r]=e:([a,n,...r]=e,t=a.toString()),!a)throw Error("Timeout.set() requires a callback parameter");pa.clear(t);return pa.keyId[t]=setTimeout(()=>{pa.metadata[t].executedTime=(new Date).getTime(),a(...r)},n||0),pa.originalMs[t]=pa.originalMs[t]||n,pa.metadata[t]=new ma(a,t,n,r),()=>pa.executed(t)}static create(...e){if(0===e.length)throw Error("Timeout.create() requires at least one argument");let t;if("function"===typeof e[1])[t]=e;else{const[n]=e;t=n.toString()}return!pa.exists(t)&&pa.set(...e)}static exists(e){return e in pa.keyId||void 0!==pa.metadata[e]}static executed(e){return pa.exists(e)&&!!pa.metadata[e].executedTime}static lastExecuted(e){return pa.executed(e)?new Date(pa.metadata[e].executedTime):null}static pending(e){return pa.exists(e)&&!pa.executed(e)}static paused(e){return pa.exists(e)&&!pa.executed(e)&&pa.metadata[e].paused}static remaining(e){if(!pa.metadata[e])return 0;const t=pa.metadata[e];return pa.paused(e)?t.ms-t.timeSpentWaiting:Math.max(0,t.startTime+t.ms-(new Date).getTime())}static restart(e){if(!pa.metadata[e]||pa.executed(e))return!1;const t=pa.metadata[e];return pa.clear(e,!1),t.paused&&(t.paused=!1),pa.set(e,t.callback,pa.originalMs[e],...t.params)}static pause(e){if(!pa.metadata[e]||pa.paused(e)||pa.executed(e))return!1;pa.clear(e,!1);const t=pa.metadata[e];return t.paused=!0,t.timeSpentWaiting=(new Date).getTime()-t.startTime,t.timeSpentWaiting}static resume(e){if(!pa.metadata[e]||pa.executed(e))return!1;const t=pa.metadata[e];if(!t.paused)return!1;const n=pa.originalMs[e],r=t.ms-t.timeSpentWaiting,a=pa.set(e,t.callback,r,...t.params);return pa.originalMs[e]=n,a}static instantiate(e,t=0,...n){if(!e)throw Error("Timeout.instantiate() requires a function parameter");const r=`${Math.random()}${e}`.replace(/\s/g,"");return pa.set(r,e,t,...n),{clear:(e=!0)=>pa.clear(r,e),executed:()=>pa.executed(r),exists:()=>pa.exists(r),lastExecuted:()=>pa.lastExecuted(r),pause:()=>pa.pause(r),paused:()=>pa.paused(r),pending:()=>pa.pending(r),remaining:()=>pa.remaining(r),restart:()=>pa.restart(r),resume:()=>pa.resume(r),set:(e,t=0,...n)=>pa.set(r,e,t,...n)}}}ua(pa,"keyId",{}),ua(pa,"originalMs",{}),ua(pa,"metadata",{});const ha=(e=[],t,n={})=>{const{onFinish:r,autostart:a=!0,onPlayChanged:i}=n,o=0===e.length,l=[];let s=0;const c=e=>{e?m.durationCounter=u():m.durationCounter&&clearInterval(m.durationCounter),m.paused=!e,null===i||void 0===i||i()};let d=0;e.forEach(({after:e})=>{d+=e});const u=()=>setInterval(()=>{m.duration+=100},100),m={currentIndex:0,totalDuration:d,duration:0,durationCounter:null,timers:e,timeoutInstances:l,finished:o,paused:!a,pause:()=>{l.forEach((e,t)=>{t>=m.currentIndex&&e.pause()}),c(!1)},start:()=>{l.forEach((e,t)=>{t>=m.currentIndex&&e.resume()}),c(!0)},clear:()=>{l.forEach(e=>{e.clear()}),m.durationCounter&&clearInterval(m.durationCounter),m.finished=!0,m.duration=0,null===r||void 0===r||r()}};return e.forEach((n,r)=>{s+=n.after;const i=pa.instantiate(()=>{m.currentIndex=r+1,t(n,r,i),r===e.length-1&&m.clear()},s);a||i.pause(),l.push(i)}),a&&(m.durationCounter=u()),m};var ga=n(1059),fa=n(1060),ya=n(1061),ba=n(1062),va=n(1063),Ea=n(1064),Oa=n(1065),wa=n(1066),xa=n(1067),Da=n(1068),_a=n(1069),Ia=n(1070),Pa=n(1071),Ca=n(1072),Ta=n(1073),ja=n(1074),Sa=n(1075),ka=n(1076),La=n(1077),Aa=n(1078),Ra=n(1079),Na=n(1080),Ma=n(1081),Ua=n(1082),Fa=n(1083),Ba=n(1084),Va=n(1085),Ha=n(1086),Ga=n(1087),qa=n(1088),za=n(1089),Ya=n(1090),Wa=n(1091),$a=n(1092),Xa=n(1093),Ja=n(1094),Ka=n(1095),Qa=n(1096),Za=n(1097);const ei=["name"];function ti(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const ni={assessment:ga.a,add_circle:fa.a,addjust:ya.a,delete_rounded:ba.a,record_voice_over_rounded:va.a,build_circle_outlined:Ea.a,more_vert:Oa.a,edit:wa.a,build_circle:xa.a,repeat_one:Da.a,sort_by_alpha:_a.a,close:Ia.a,info_outlined:Pa.a,filter:Ca.a,arrow_drop_down_rounded:Ta.a,arrow_drop_up_rounded:ja.a,bookmarks:Sa.a,bookmark:ka.a,bookmark_border:La.a,minimize:Aa.a,videocam:Ra.a,fiber_manual_record:Na.a,settings:Ma.a,redo:Ua.a,chevron_left:Fa.a,chevron_right:Ba.a,keyboard_arrow_up:Va.a,keyboard_arrow_down:Ha.a,playlist_add:Ga.a,playlist_play:qa.a,expand_more:za.a,play_arrow:Ya.a,navigate_before:Wa.a,navigate_next:$a.a,beenhere:Xa.a,unfold_less:Ja.a,unfold_more:Ka.a,my_location:Qa.a,drag_handle:Za.a},ri=e=>{const{name:t}=e,n=ti(e,ei),r=ni[t];return a.a.createElement(r,n)};var ai=n(40),ii=n(1138),oi=n(1128),li=n(1129),si=n(1110);const ci=i.ob;var di={get name(){return"ExpoDocumentPicker"},async getDocumentAsync({type:e="*/*",multiple:t=!1}){const n=document.createElement("input");return n.style.display="none",n.setAttribute("type","file"),n.setAttribute("accept",e),n.setAttribute("id",ci()),t&&n.setAttribute("multiple","multiple"),document.body.appendChild(n),new Promise((e,t)=>{n.addEventListener("change",()=>{if(n.files){const r=n.files[0],a=new FileReader;a.onerror=()=>{t(new Error("Failed to read the selected media because the operation failed."))},a.onload=({target:t})=>{const a=t.result;e({type:"success",uri:a,name:r.name,file:r,lastModified:r.lastModified,size:r.size,output:n.files})},a.readAsDataURL(r)}else e({type:"cancel"});document.body.removeChild(n)});const r=new MouseEvent("click");n.dispatchEvent(r)})}},ui=n(411),mi=n(1121),pi=n(48),hi=n(1132),gi=n(204),fi=n(1134),yi=(n(1135),n(1136),n(1137),n(54));function bi(){return(bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const{asNumber:vi,guessType:Ei}=yi.b,Oi=new Set(["number","integer"]),wi=(e,t)=>{const{type:n,items:r}=e;if(""!==t){if("array"===n&&r&&Oi.has(r.type))return t.map(vi);if("boolean"===n)return"true"===t;if("number"===n)return vi(t);if(e.enum){if(e.enum.every(e=>"number"===Ei(e)))return vi(t);if(e.enum.every(e=>"boolean"===Ei(e)))return"true"===t}return t}},xi=e=>{const{schema:t,id:n,label:r,required:i,disabled:o,readonly:l,options:s,value:c,multiple:d,autofocus:u,onChange:m,onBlur:p,onFocus:h,rawErrors:f=[]}=e,{enumOptions:y,enumDisabled:b}=s,v=d?[]:"",{anchorEl:E,onClose:O,onOpen:w}=Object(g.i)({}),x=a.a.useRef(-1);return a.a.createElement(hi.a,{id:n,label:r||t.title,select:!0,value:"undefined"===typeof c?v:c,required:i,disabled:o||l,autoFocus:u,error:f.length>0,onChange:({target:{value:e}})=>m(wi(t,e)),onBlur:({target:{value:e}})=>p(n,wi(t,e)),onFocus:({target:{value:e}})=>h(n,wi(t,e)),InputLabelProps:{shrink:!0},SelectProps:{multiple:"undefined"!==typeof d&&d}},y.map(({value:e,label:t},n)=>{const r=b&&-1!=b.indexOf(e);return a.a.createElement(ia.a,{key:n,value:e,disabled:r,onMouseEnter:e=>{x.current=n,w(e)},onMouseLeave:O},a.a.createElement(Di,{openInfo:{anchorEl:E,isOpen:x.current===n},value:e,label:t,disabled:r}))}))},Di=e=>{const{label:t,value:n,openInfo:r={}}=e,{isOpen:i,anchorEl:o}=r;return a.a.createElement(a.a.Fragment,null,a.a.createElement(g.c,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"}},a.a.createElement(gi.a,null,t),a.a.createElement("img",{src:`https://raw.githubusercontent.com/sabaturgay/assets/main/gifs/${n}Layout.gif`,width:32,height:32,alt:t})))};function _i(){return(_i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const Ii=e=>{var t;const{layout:n={},onEvent:r,schema:i}=e,{anchorEl:o,isOpen:c,onClose:d,onOpen:u}=Object(g.i)({}),m=a.a.useCallback(e=>{r({type:Ee,payload:{form:e,value:e.formData}}),d()},[r]);return a.a.createElement(la.a,null,a.a.createElement(l.a,{onClick:u,sx:{color:e=>e.palette.text.secondary}},null!==(t=n.name)&&void 0!==t?t:"Select Layout"),a.a.createElement(mi.a,{open:c,anchorEl:o,onClose:d,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},a.a.createElement(ra.a,null,a.a.createElement(s.a,{open:!0,sx:{position:"absolute",top:0,left:0,zIndex:e=>e.zIndex.drawer,width:"100vw",height:"100vw"}})),a.a.createElement(la.a,{sx:{width:300,padding:2}},a.a.createElement(pi.a,_i({},{schema:{title:"Layout",properties:{name:{type:"string",enum:We},animationDuration:{type:"number",minimum:0,maximum:1e4},refresh:{type:"number",minimum:0,maximum:100},maxIterations:{type:"number",minimum:0,maximum:1e3},maxSimulationTime:{type:"number",minimum:0,maximum:1e3}}},uiSchema:{name:{"ui:field":e=>{const{schema:t,formData:n}=e;return a.a.createElement(xi,bi({},e,{value:n,options:{enumOptions:t.enum.map(e=>({label:e,value:e}))}}))}}}},i?{schema:i}:{},{formData:{name:n.name,animationDuration:n.animationDuration,refresh:n.refresh,maxIterations:n.maxIterations,maxSimulationTime:n.maxSimulationTime},onSubmit:m})))))};function Pi(){return(Pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ci(Object(n),!0).forEach((function(t){ji(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ji(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Si={add:{visible:!0},delete:{visible:!0},recordEvents:{visible:!0},options:{actions:{import:{visible:!0}}},layout:{visible:!0}},ki="START",Li="STOP",Ai="RECORDING",Ri="IDLE",Ni={Import:"Import",Export:"Export",ImportEvents:"Import Events"},Mi=e=>{var t;const{renderMoreAction:n=(()=>a.a.createElement(la.a,null)),onEvent:r,onAction:i,theming:o}=e,{anchorEl:l,isOpen:s,onClose:c,onOpen:d}=Object(g.i)({});return a.a.createElement(a.a.Fragment,null,a.a.createElement(ii.a,{onClick:d},a.a.createElement(ri,{name:"more_vert"})),a.a.createElement(aa.a,{anchorEl:l,open:s,onClose:c,style:{width:400}},Object.values(Ni).map((e,t)=>a.a.createElement(ia.a,{key:e,onClick:e=>(async(e,t)=>{c();switch(Object.values(Ni)[t]){case Ni.Import:{const e=await di.getDocumentAsync({type:"application/json"});if("success"===e.type){const t=await vt(e.file);r({type:be,payload:{value:JSON.parse(t)}})}break}case Ni.ImportEvents:{const e=await di.getDocumentAsync({type:"application/json"});if("success"===e.type){const t=await vt(e.file);r({type:ve,payload:{value:JSON.parse(t)}})}break}case Ni.Export:i({type:ye})}})(0,t)},e)),a.a.createElement(oi.a,{fullWidth:!0},a.a.createElement(li.a,{id:"theme-select-label"},"Theme"),a.a.createElement(si.a,{labelId:"theme-select-label",onChange:e=>{i({type:W,value:e.target.value}),c()},value:null===o||void 0===o?void 0:o.value},null===o||void 0===o||null===(t=o.options)||void 0===t?void 0:t.map(e=>a.a.createElement(ia.a,{key:e.value,value:e.value},e.name)))),n()))},Ui=Object(g.m)(e=>{var t;const{renderMoreAction:n,isOpen:r=!1,autoOpen:o=!1,recording:s=!1,eventRecording:c=!1,onAction:d,left:u,right:m,theming:p={options:[{name:"Default",value:"Default"},{name:"Dark",value:"Dark"}],value:"Default"}}=e,[{onEvent:h,graphEditorRef:f,mode:y,graphConfig:b}]=Or(e=>({onEvent:e.onEvent,graphEditorRef:e.graphEditorRef,mode:e.mode,graphConfig:e.graphConfig})),{style:v,ref:E}=Object(g.h)({from:{bottom:-40},to:{bottom:0},autoPlay:!1});a.a.useEffect(()=>{E.current.play(r)},[E.current,r]);const O=Object(ai.a)(),w=a.a.useRef(Ri);a.a.useMemo(()=>{switch(w.current){case Ri:w.current=s?ki:Ri;break;case ki:case Ai:w.current=s?Ai:Li;break;case Li:w.current=s?ki:Ri}},[s]);const x=i.K(Si,null!==(t=e.actions)&&void 0!==t?t:{});return a.a.createElement(la.a,{style:Ti({position:"absolute",width:"100%",height:40,left:0,flexDirection:"row",display:"flex",justifyContent:"space-between",backgroundColor:O.palette.background.paper},v)},u&&a.a.createElement(u,null),a.a.createElement(la.a,{style:{flexDirection:"row",alignItems:"center",display:"flex",height:40}},x.add.visible&&a.a.createElement(l.a,{style:Fi.button,startIcon:a.a.createElement(ri,{name:"add_circle"}),onClick:()=>h({type:Oe,payload:{value:[Ye.ADD,Ye.CONTINUES_ADD].includes(y)?Ye.DEFAULT:Ye.ADD}}),variant:Ye.CONTINUES_ADD===y?"contained":"outlined",color:[Ye.ADD,Ye.CONTINUES_ADD].includes(y)?"secondary":"primary",onDoubleClick:()=>h({type:Oe,payload:{value:Ye.CONTINUES_ADD}})},"Add"),x.delete.visible&&a.a.createElement(l.a,{style:Fi.button,startIcon:a.a.createElement(ri,{name:"delete_rounded"}),color:[Ye.DELETE,Ye.CONTINUES_DELETE].includes(y)?"primary":"secondary",variant:Ye.CONTINUES_DELETE===y?"contained":"outlined",onClick:()=>h({type:Oe,payload:{value:[Ye.DELETE,Ye.CONTINUES_DELETE].includes(y)?Ye.DEFAULT:Ye.DELETE}}),onDoubleClick:()=>h({type:Oe,payload:{value:Ye.CONTINUES_DELETE}})},"Delete"),x.layout.visible&&a.a.createElement(Ii,Pi({layout:null===b||void 0===b?void 0:b.layout,onEvent:h},x.layout)),x.recordEvents.visible&&a.a.createElement(ii.a,{onClick:()=>h({type:Be})},a.a.createElement(ri,{name:"addjust",color:c?"error":"inherit"})),a.a.createElement(ui.a,{getStream:()=>f.current.app.renderer.view.captureStream(25),render:({startRecording:e,stopRecording:t,status:n})=>(w.current===ki&&(w.current=Ai,e()),w.current===Li&&(w.current=Ri,t()),a.a.createElement(ii.a,{onClick:()=>h({type:Ve})},a.a.createElement(ri,{name:"videocam",color:"recording"!==n?"inherit":"error"}))),onStop:(e,t)=>{h({type:_e,payload:{value:t}})}}),a.a.createElement(Mi,{renderMoreAction:n,theming:p,onEvent:h,onAction:d})),m&&a.a.createElement(m,null),!o&&a.a.createElement(ii.a,{style:Fi.icon,onClick:()=>{h({type:Re,avoidHistoryRecording:!0})}},a.a.createElement(ri,{name:"build_circle_outlined"})))},{}),Fi={icon:{width:24,height:24,position:"absolute",left:2,top:-26,fontSize:24},button:{marginRight:10}};var Bi=n(1122),Vi=n(1139),Hi=n(1141),Gi=n(1142),qi=n(1101),zi=n(28);const Yi=e=>{const{ref:t,onDrag:n}=e;return a.a.useCallback(e=>{const r=e.nativeEvent,a=r.x,i=r.y,o=t.current.getBoundingClientRect();function l(e){(e=>{e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1})(e);const t=a-e.x,r=i-e.y;n({x:t,y:r},o)}window.addEventListener("mousemove",l),window.addEventListener("mouseup",(function e(){window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",e)}))},[])};function Wi(){return(Wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$i(Object(n),!0).forEach((function(t){Ji(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ji(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ki=e=>{var t;const[n,r]=a.a.useState({onHover:!1});return a.a.createElement("div",Wi({style:Xi({width:n.onHover?4:2,height:"100%",backgroundColor:"black",cursor:"col-resize"},null!==(t=null===e||void 0===e?void 0:e.style)&&void 0!==t?t:{}),onMouseEnter:()=>r(Xi(Xi({},n),{},{onHover:!0})),onMouseLeave:()=>r(Xi(Xi({},n),{},{onHover:!1}))},e))};var Qi=n(423),Zi=(n(929),n(425)),eo=n.n(Zi);n(931),n(933);const to=e=>{const[{item:t,onEvent:n}]=Or(e=>({item:e.selectedItem,onEvent:e.onEvent}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(Qi.a,{value:null===t||void 0===t?void 0:t.data,onChange:e=>{n({type:Ge,payload:{value:e}})},ace:eo.a,theme:"ace/theme/github"}))},no=e=>{const{data:t,onEvent:n}=e;return a.a.createElement(Vi.a,{defaultExpanded:!0},a.a.createElement(Hi.a,{"aria-controls":"panel1a-content"},a.a.createElement(zi.a,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"}},a.a.createElement(zi.a,{style:{flexDirection:"row",alignItems:"center"}},a.a.createElement(gi.a,{variant:"h6"},"Global Network Statistics")),a.a.createElement(zi.a,{style:{flexDirection:"row"}},a.a.createElement(ii.a,{onClick:e=>{e.stopPropagation(),n({type:V})}},a.a.createElement(ri,{name:"assessment"}))))),a.a.createElement(Gi.a,null,a.a.createElement(g.b,{data:t,sort:-1,left:({collapsed:e,onCollapse:t,noChild:n})=>a.a.createElement(ii.a,{size:"small",sx:{height:24},disabled:n,onClick:()=>t(!e)},a.a.createElement(ri,{style:{fontSize:n?12:24},name:n?"fiber_manual_record":e?"arrow_drop_down_rounded":"arrow_drop_up_rounded"})),renderItem:({item:{key:e,value:t}})=>a.a.createElement(zi.a,{style:{flexDirection:"row",justifyContent:"space-between"}},a.a.createElement(gi.a,{variant:"subtitle1",style:{alignContent:"center"}},`${e}${t?": ":""}`),t?a.a.createElement(gi.a,{variant:"subtitle1",style:{alignContent:"center"}},t):null)})))},ro=e=>{const{data:t}=e;return a.a.createElement(Vi.a,{defaultExpanded:!0},a.a.createElement(Hi.a,{"aria-controls":"panel1a-content"},a.a.createElement(zi.a,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"}},a.a.createElement(zi.a,{style:{flexDirection:"row",alignItems:"center"}},a.a.createElement(gi.a,{variant:"h6"},"Local Network Statistics")),a.a.createElement(zi.a,{style:{flexDirection:"row"}}))),a.a.createElement(Gi.a,null,a.a.createElement(g.b,{data:t,sort:-1,left:({collapsed:e,onCollapse:t,noChild:n})=>a.a.createElement(ii.a,{size:"small",sx:{height:24},disabled:n,onClick:()=>t(!e)},a.a.createElement(ri,{style:{fontSize:n?12:24},name:n?"fiber_manual_record":e?"arrow_drop_down_rounded":"arrow_drop_up_rounded"})),renderItem:({item:{key:e,value:t}})=>a.a.createElement(zi.a,{style:{flexDirection:"row",justifyContent:"space-between"}},a.a.createElement(gi.a,{variant:"subtitle1",style:{alignContent:"center"}},`${e}${t?": ":""}`),t?a.a.createElement(gi.a,{variant:"subtitle1",style:{alignContent:"center"}},t):null)})))};var ao=n(1123),io=n(1118),oo=n(1099),lo=n(1100);const so=()=>{const[{selectedElement:e,onEvent:t}]=Or(e=>{const{selectedElement:t,selectedItem:n,onEvent:r}=e;return{item:e.selectedItem,selectedElement:t,onEvent:r}});if(!e)return null;const n=e.isNode();let r;return r=n?e.connectedEdges().toArray().map(jt):[e.source(),e.target()].map(jt),a.a.createElement(Vi.a,{defaultExpanded:!0},a.a.createElement(Hi.a,null,a.a.createElement(gi.a,{variant:"h6"},"Connected "+(n?"Edges":"Nodes"))),a.a.createElement(Gi.a,null,a.a.createElement(ao.a,{dense:!0},r.map(e=>a.a.createElement(io.a,{key:e.id,button:!0,onClick:()=>t({type:pe,payload:{itemIds:[e.id]},avoidHistoryRecording:!0})},a.a.createElement(oo.a,null,a.a.createElement(ri,{name:"chevron_right"})),a.a.createElement(lo.a,{primary:e.id}))))))},co=["editable","isOpen","sort","header","footer"];function uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(n),!0).forEach((function(t){po(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function po(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ho(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const go=e=>{const{editable:t=!0,isOpen:n=!1,sort:r=-1,header:o,footer:s}=e,[{item:c,onEvent:d,networkStatistics:u,globalLabel:m,localLabel:p,isGlobalLabelFirst:h,selectedElement:f}]=(ho(e,co),Or(e=>{var t,n,r,a;const{selectedElement:i,selectedItem:o,label:l,localDataRef:s,networkStatistics:c}=e,d=null!==i&&void 0!==i&&i.isNode()?"nodes":"edges";return{graphEditorConfig:e.config,item:e.selectedItem,localLabel:i&&(null===l||void 0===l?void 0:l[d][null===o||void 0===o?void 0:o.id]),globalLabel:null===l||void 0===l||null===(t=l.global)||void 0===t?void 0:t[d],isGlobalLabelFirst:null===l||void 0===l||null===(n=l.isGlobalFirst)||void 0===n?void 0:n[d],onEvent:e.onEvent,networkStatistics:{local:null===(r=s.current.networkStatistics.local)||void 0===r?void 0:r[null===o||void 0===o?void 0:o.id],global:null===c||void 0===c||null===(a=c.global)||void 0===a?void 0:a[null===o||void 0===o?void 0:o.id]},selectedElement:i}})),y=a.a.useRef({width:330}),{style:b,ref:v}=Object(g.h)({from:{width:0},to:{width:y.current.width},autoPlay:!1},[y.current.width]),E=a.a.useRef();a.a.useEffect(()=>{var e,t;null===(e=v.current)||void 0===e||null===(t=e.play)||void 0===t||t.call(e,n)},[v,n]);const O=Object.values(u).find(e=>e),[w,x]=a.a.useState({isEditing:!1}),D=Yi({ref:E,onDrag:({x:e,y:t},n)=>{y.current.width=n.width+e;E.current.style.width=y.current.width+"px"}});return a.a.createElement(Bi.a,{ref:E,style:mo({position:"absolute",height:"100%",top:0,display:"flex",flexDirection:"row",right:0},b)},a.a.createElement(Ki,{onMouseDown:D}),a.a.createElement(zi.a,{style:{height:"100%",flex:1,overflowY:"auto",overflowX:"hidden"}},o&&a.a.createElement(o,null),c&&a.a.createElement(Vi.a,{defaultExpanded:!0},a.a.createElement(Hi.a,null,a.a.createElement(gi.a,{variant:"h6",style:{wordBreak:"break-word",padding:2}}," id: "+(null===c||void 0===c?void 0:c.id))),a.a.createElement(Gi.a,null,a.a.createElement(zi.a,{style:{width:"100%",height:O?"70%":"100%"}},t&&(null===c||void 0===c?void 0:c.data)&&a.a.createElement(zi.a,{style:{flexDirection:"row",justifyContent:"flex-end"}},a.a.createElement(l.a,{onClick:()=>x(mo(mo({},w),{},{isEditing:!w.isEditing}))},w.isEditing?"Done":"Edit")),w.isEditing?a.a.createElement(to,null):a.a.createElement(g.b,{extraData:[p,m],data:null===c||void 0===c?void 0:c.data,sort:r,left:e=>{const{item:{path:t},collapsed:n,onCollapse:r,noChild:o}=e,l=i.j(t,p),s=i.j(t,m);return a.a.createElement(zi.a,{style:{flexDirection:"row",alignItems:"center",height:32}},a.a.createElement(ii.a,{size:"small",sx:{height:16},onClick:()=>d(l?{type:X}:{type:ke,payload:{value:t}})},a.a.createElement(ri,{style:{fontSize:16,textDecoration:h?"":"underline"},name:l?"bookmark":"bookmark_border"})),a.a.createElement(ii.a,{size:"small",sx:{height:16},onClick:()=>d(s?{type:$}:{type:Se,payload:{value:t}})},a.a.createElement(ri,{style:{fontSize:16,textDecoration:h?"underline":""},name:s?"bookmarks":"bookmark_border"})),a.a.createElement(ii.a,{size:"small",sx:{height:16},disabled:o,onClick:()=>r(!n)},a.a.createElement(ri,{style:{fontSize:16},name:o?"fiber_manual_record":n?"arrow_drop_down_rounded":"arrow_drop_up_rounded"})))},renderItem:({item:{key:e,value:t}})=>a.a.createElement(zi.a,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%",alignItems:"center"}},a.a.createElement(gi.a,{variant:"subtitle1",style:{alignContent:"center",flexDirection:"row",width:"100%",wordWrap:"break-word"}},`${e}${t?": ":""}`,t?a.a.createElement(gi.a,{variant:"subtitle1",component:fo(t)?"a":"span",align:"center",href:t,target:"_blank",style:{wordWrap:"break-word"}},t):null))})))),a.a.createElement(qi.a,null),a.a.createElement(so,null),O&&a.a.createElement(zi.a,{style:{height:"30%",width:"100%"}},u.global&&a.a.createElement(no,{data:u.global,onEvent:d}),a.a.createElement(qi.a,null),u.local&&a.a.createElement(ro,{data:u.local,onEvent:d})),s&&a.a.createElement(s,null)),a.a.createElement(ii.a,{style:{position:"absolute",left:-34,top:0,fontSize:24},onClick:()=>{d({type:Ne,avoidHistoryRecording:!0})}},a.a.createElement(ri,{name:"info_outlined"})))},fo=e=>{let t;try{t=new URL(e)}catch(n){return!1}return"http:"===t.protocol||"https:"===t.protocol};var yo=n(1111);function bo(){return(bo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const vo=e=>{var t;const{isOpen:n=!1,render:r,form:o,onClose:s,name:c}=e,[{onEvent:d}]=Or(e=>({onEvent:e.onEvent})),u=a.a.useCallback(()=>{null===s||void 0===s||s(),d({type:J,payload:{name:c}})},[s]);return a.a.createElement(yo.a,{open:n,onClose:u,onBackdropClick:u,style:{display:"flex",alignItems:"center",justifyContent:"center"}},o?a.a.createElement(Bi.a,{style:{maxWidth:"80%",maxHeight:"90%",overflow:"scroll",padding:2}},a.a.createElement(pi.a,bo({},o,{schema:i.M(["title"])(o.schema)}),null!==(t=o.children)&&void 0!==t?t:a.a.createElement(l.a,{type:"submit",fullWidth:!0,variant:"contained"},"Apply"))):a.a.createElement(a.a.Fragment,null,null===r||void 0===r?void 0:r({})))},Eo=e=>{const{name:t,cursor:n=!1}=e,[,r]=a.a.useState({x:0,y:0});return a.a.useEffect(()=>{const e=e=>{if(n)return;const t=Pt(e);r({x:t.x+30,y:t.y+30})};return document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e)}},[n]),a.a.useEffect(()=>{n&&(document.body.style.cursor=`url(${t}), auto`)},[n,t]),t&&!n?a.a.createElement("span",null,t):null};var Oo=n(1115),wo=n(1143),xo=n(1140),Do=n(195),_o=n.n(Do),Io=n(196),Po=n.n(Io);const Co=e=>{const{isOpen:t=!1,sidebar:n=So,components:r={}}=e,[{onEvent:i}]=Or(e=>({onEvent:e.onEvent})),o=a.a.useMemo(()=>To(n),[n,r]);return a.a.createElement(yo.a,{open:t,onClose:()=>i({type:Fe}),style:{display:"flex",alignItems:"center",justifyContent:"center"}},a.a.createElement(Bi.a,{style:{display:"flex",flexDirection:"column",width:"80vw",height:"80vh"}},a.a.createElement(g.c,null,a.a.createElement(gi.a,{variant:"h6"},"Preferences")),a.a.createElement(g.c,{style:{flexDirection:"row"}},a.a.createElement(g.c,{style:{marginRight:4,flexDirection:"row"}},a.a.createElement(d.a,{in:!0},o),a.a.createElement(qi.a,{orientation:"vertical",flexItem:!0})),a.a.createElement(g.c,null,a.a.createElement(Oo.a,{"aria-label":"breadcrumb"},a.a.createElement(wo.a,{color:"inherit",href:"/"},"General"),a.a.createElement(gi.a,{color:"text.primary"},"UI")),a.a.createElement(pi.a,{schema:{type:"object",required:["historyTabVisible","playlistTabVisible"],properties:{labelTextSize:{type:"number",title:"Label Text Size"},historyTabVisible:{type:"boolean",title:"History Tab Visible"},playlistTabVisible:{type:"boolean",title:"Playlist Tab Visible"}}},uiSchema:{"ui:options":{label:!1}}})))))},To=e=>a.a.createElement("div",null,a.a.createElement(qi.a,null),a.a.createElement(ao.a,null,a.a.createElement(g.a,{data:e,accessor:["items"],renderItem:e=>{const{children:t}=e,n=e.item;return a.a.createElement(jo,{item:n},t)}}))),jo=e=>{const{children:t,item:n}=e,[r,o]=a.a.useState(!1),l=i.w(String)(n)?{label:n}:n,s=!!l.items;return a.a.createElement(a.a.Fragment,null,a.a.createElement(io.a,{button:!0,onClick:()=>{o(!r)},selected:!s&&r},a.a.createElement(oo.a,null,l.icon),a.a.createElement(lo.a,{primary:l.label}),s?r?a.a.createElement(_o.a,null):a.a.createElement(Po.a,null):null),a.a.createElement(xo.a,{in:r,timeout:"auto",unmountOnExit:!0},a.a.createElement(ao.a,{component:"div",disablePadding:!0,sx:{ml:2}},t)))},So=[{icon:a.a.createElement(ri,{name:"settings"}),label:"General",items:["UI"]},{icon:a.a.createElement(ri,{name:"bookmark"}),label:"Bookmarks",items:[{icon:a.a.createElement(ri,{name:"filter"}),label:"Filter",items:["History"]},"Text"]}];function ko(){return(ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(n),!0).forEach((function(t){Ro(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ro(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const No=e=>{var t;const{timeoutManager:n,onClose:r}=e,i=!n.finished,[o,s]=a.a.useState({alert:{visible:!1}}),c=null===(t=n.timers)||void 0===t?void 0:t[n.currentIndex],{duration:d,totalDuration:u,currentIndex:m,paused:p,timeoutInstances:h}=n;return a.a.createElement(yo.a,{open:i,style:{display:"flex",flexDirection:"column-reverse"},BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0)"},onClick:()=>{s(Ao(Ao({},o),{},{alert:Ao(Ao({},o.alert),{},{visible:!0})})),setTimeout(()=>{s(Ao(Ao({},o),{},{alert:Ao(Ao({},o.alert),{},{visible:!1})}))},1500)}}},a.a.createElement(Bi.a,{style:{display:"flex",flexDirection:"column"}},a.a.createElement(g.c,{style:{flexDirection:"row",justifyContent:"space-between"}},a.a.createElement(gi.a,{variant:"h6"},"Play Events"),o.alert.visible&&a.a.createElement(gi.a,{variant:"h6",color:"error"},"You cannot take action while the events are playing")),a.a.createElement(g.c,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},a.a.createElement(g.c,{style:{flexDirection:"row"}},a.a.createElement(l.a,{color:p?"primary":"secondary",onClick:()=>{p?n.start():n.pause()}},p?"Play":"Pause"),a.a.createElement(l.a,{color:"secondary",onClick:()=>{r()}},"Close")),a.a.createElement(gi.a,{variant:"subtitle1"},"Current Event: "+(null===c||void 0===c?void 0:c.type)),a.a.createElement(g.c,{style:{flexDirection:"row",height:"100%",alignItems:"center"}},a.a.createElement(gi.a,{variant:"subtitle2"},`Events: ${m} / ${h.length}`),a.a.createElement(Mo,{value:d/u*100})))))};function Mo(e){return a.a.createElement(g.c,null,a.a.createElement(c.a,ko({variant:"determinate"},e)),a.a.createElement(g.c,{style:{position:"absolute",top:0,left:0,bottom:0,right:0,alignItems:"center",justifyContent:"center"}},a.a.createElement(gi.a,{variant:"caption",component:"div",color:"textSecondary"},Math.round(e.value)+"%")))}var Uo=n(201);function Fo(){return(Fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const Bo=e=>{const{onReorder:t,onDragEnd:n,data:r=[],renderItem:o}=e,l=a.a.useMemo(()=>i.ob(),[]);return a.a.createElement(Uo.a,{onDragEnd:e=>{null===n||void 0===n||n(e),(e.destination||e.destination.index!==e.source.index)&&(null===t||void 0===t||t(e))}},a.a.createElement(Uo.c,{droppableId:l},(e,t)=>a.a.createElement("div",Fo({},e.droppableProps,{ref:e.innerRef}),r.map((n,r)=>a.a.createElement(Uo.b,{key:n.id,draggableId:n.id,index:r},(a,i,l)=>o({item:n,index:r,provided:a,snapshot:i,rubric:l,droppableProvided:e,droppableSnapshot:t}))),e.placeholder)))};var Vo=n(1120),Ho=n(1107);function Go(){return(Go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const qo=e=>{const{actions:t}=e;return a.a.createElement(g.c,{style:{width:24,height:24}},a.a.createElement(Vo.a,{ariaLabel:"SpeedDial basic example",icon:a.a.createElement(ri,{name:"settings",style:{fontSize:20}}),FabProps:{style:{width:24,height:24,minWidth:24,minHeight:24},color:"inherit"},style:{width:24,height:24},direction:"left"},t.map(e=>{const{icon:t,name:n,onClick:r}=e;return a.a.createElement(Ho.a,Go({key:n,tooltipTitle:n,tooltipPlacement:"bottom",onClick:e=>{e.stopPropagation(),null===r||void 0===r||r(e)}},t,{icon:a.a.createElement(ri,t)}))})))},zo=["children","value","index"];function Yo(){return(Yo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wo(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const $o=e=>{const{children:t,value:n,index:r}=e,i=Wo(e,zo);return a.a.createElement("div",Yo({role:"tabpanel",hidden:n!==r,id:"simple-tabpanel-"+r,"aria-labelledby":"simple-tab-"+r},i),n===r&&a.a.createElement(la.a,null,t))};var Xo=n(1112),Jo=n(1146),Ko=n(1127),Qo=n(1147),Zo=n(1148);const el=Object.keys(fn),tl=e=>{const{onSubmit:t}=e,[{onEvent:n}]=Or(e=>({onEvent:e.onEvent})),[r,i]=Object(f.a)({selectedClusterName:el[0]});return a.a.createElement(g.c,{style:{width:"100%",height:"100%"}},a.a.createElement(li.a,{id:"create-cluster-by-algorithm-label"},"Age"),a.a.createElement(si.a,{labelId:"create-cluster-by-algorithm-label",value:r.selectedClusterName,onChange:e=>i(t=>{t.selectedClusterName=e.target.value})},el.map(e=>a.a.createElement(ia.a,{key:e,value:e},e))),a.a.createElement(pi.a,{onSubmit:e=>{n({type:K,payload:{config:e.formData,name:r.selectedClusterName}}),t()},schema:fn[r.selectedClusterName].configSchema}))};function nl(){return(nl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const rl=e=>{const{createClusterForm:t={schema:{}}}=e,[{onEvent:n,clusters:r=[],editorMode:o,graphEditorLocalDataRef:s}]=Or(e=>{var t;return{clusters:null===(t=e.graphConfig)||void 0===t?void 0:t.clusters,onEvent:e.onEvent,graphEditorLocalDataRef:e.localDataRef,editorMode:e.mode}}),[c,d]=Object(f.a)({expanded:!0,selectedClusterIds:[],currentTab:0,formData:{},createClusterDialog:{name:"",visible:!1}}),u=c.selectedClusterIds.length>0,{anchorEl:m,isOpen:p,onClose:h,onOpen:y}=Object(g.i)({});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Vi.a,{expanded:c.expanded,onChange:(e,t)=>d(e=>{e.expanded=t})},a.a.createElement(Hi.a,{"aria-controls":"panel1a-content"},a.a.createElement(g.c,{style:{width:"100%"}},a.a.createElement(g.c,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"}},a.a.createElement(g.c,{style:{flexDirection:"row",alignItems:"center"}},a.a.createElement(gi.a,{variant:"h6"},"Clusters")),a.a.createElement(ii.a,{onClick:e=>{e.stopPropagation(),y(e)}},a.a.createElement(ri,{color:0===c.currentTab?"inherit":"secondary",name:0===c.currentTab?"add_circle":"close"})),a.a.createElement(aa.a,{anchorEl:m,open:p,onClose:h},0!==c.currentTab&&a.a.createElement(ia.a,{onClick:e=>{e.stopPropagation(),d(e=>{e.currentTab=0}),h()}},"Close"),a.a.createElement(ia.a,{selected:1===c.currentTab,onClick:e=>{e.stopPropagation(),d(e=>{e.currentTab=1,e.expanded=!0}),h()}},"By Filter"),a.a.createElement(ia.a,{selected:2===c.currentTab,onClick:e=>{e.stopPropagation(),d(e=>{e.currentTab=2,e.expanded=!0}),h()}},"By Algorithm"))),c.expanded&&u&&a.a.createElement(fi.a,{style:{display:"flex",flexDirection:"row",height:32,width:"100%"}},a.a.createElement(io.a,null,a.a.createElement(Xo.a,{onClick:e=>e.stopPropagation(),checked:!i.x(c.selectedClusterIds)&&c.selectedClusterIds.length===r.length,onChange:e=>{const{checked:t}=e.target;d(e=>{e.selectedClusterIds=t?r.map(e=>e.id):[]})},inputProps:{"aria-label":"primary checkbox"}}),a.a.createElement(ii.a,{onClick:e=>{e.stopPropagation(),n({type:ae,payload:{itemIds:c.selectedClusterIds}}),d(e=>{e.selectedClusterIds=[]})}},a.a.createElement(ri,{name:"delete_rounded"})))))),a.a.createElement(Gi.a,null,a.a.createElement($o,{value:c.currentTab,index:0},0===r.length&&a.a.createElement(gi.a,null,"Let's create a Cluster."),a.a.createElement(ao.a,{dense:!0},a.a.createElement(Bo,{onReorder:e=>{n({type:Pe,payload:{fromIndex:e.source.index,toIndex:e.destination.index}})},data:r,renderItem:({provided:e,item:t})=>{const{ids:r,id:l,name:u}=t;return a.a.createElement(Vi.a,nl({key:l,ref:e.innerRef},e.draggableProps),a.a.createElement(Hi.a,{"aria-controls":"panel1a-content"},a.a.createElement(g.c,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"}},a.a.createElement(g.c,{style:{flexDirection:"row",alignItems:"center"}},a.a.createElement(Xo.a,{onClick:e=>e.stopPropagation(),checked:c.selectedClusterIds.includes(t.id),onChange:e=>{const{checked:n}=e.target;d(e=>{n?e.selectedClusterIds.push(t.id):e.selectedClusterIds=e.selectedClusterIds.filter(e=>e!==t.id)})},inputProps:{"aria-label":"primary checkbox"}}),a.a.createElement(gi.a,{variant:"h6"},u)),a.a.createElement(g.c,{style:{flexDirection:"row",alignItems:"center"}},a.a.createElement(al,{graphEditorLocalDataRef:s,editorMode:o,onEvent:n,item:t}),a.a.createElement(ii.a,nl({edge:"end",disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0},e.dragHandleProps),a.a.createElement(ri,{name:"drag_handle"}))))),a.a.createElement(Gi.a,null,r.map(e=>a.a.createElement(io.a,{key:e},a.a.createElement(Jo.a,null,a.a.createElement(Xo.a,{inputProps:{"aria-label":"primary checkbox"},onClick:e=>e.stopPropagation()})),a.a.createElement(lo.a,{primary:i.eb(10)(e)}),a.a.createElement(Ko.a,null,a.a.createElement(ii.a,{edge:"end","aria-label":"select",onClick:t=>{t.stopPropagation(),n({type:he,payload:{itemIds:[e]},avoidHistoryRecording:!0})}},a.a.createElement(ri,{name:"my_location"})),a.a.createElement(ii.a,{edge:"end","aria-label":"delete",onClick:r=>{r.stopPropagation(),n({type:re,payload:{itemIds:[e],clusterId:t.id}})}},a.a.createElement(ri,{name:"delete_rounded"})))))))}}))),a.a.createElement($o,{value:c.currentTab,index:1},a.a.createElement(pi.a,nl({onSubmit:e=>{d(t=>{t.formData=e.formData,t.createClusterDialog.visible=!0})}},t))),a.a.createElement($o,{value:c.currentTab,index:2},a.a.createElement(tl,{onSubmit:()=>{d(e=>{e.currentTab=0})}})))),a.a.createElement(Qo.a,{onClose:()=>d(e=>{e.createClusterDialog.visible=!1}),"aria-labelledby":"create-playlist-dialog-title",open:c.createClusterDialog.visible},a.a.createElement(Zo.a,{id:"create-playlist-dialog-title"},"Create Cluster"),a.a.createElement(g.c,{style:{width:"50%",padding:10,justifyContent:"center"}},a.a.createElement(hi.a,{style:{marginBottom:10,width:"50vw"},fullWidth:!0,label:"name",value:c.createClusterDialog.name,onChange:({target:{value:e}})=>d(t=>{t.createClusterDialog.name=e})}),a.a.createElement(l.a,{fullWidth:!0,onClick:()=>{d(e=>{e.currentTab=0,e.createClusterDialog.name="",e.createClusterDialog.visible=!1}),n({type:Q,payload:{formData:c.formData,name:c.createClusterDialog.name}})}},"Create"))))},al=e=>{var t;const{item:n,editorMode:r,onEvent:i,graphEditorLocalDataRef:o}=e;return a.a.createElement(qo,{actions:[{name:"Delete",icon:{name:"delete_rounded"},onClick:e=>{e.stopPropagation(),i({type:ae,payload:{itemIds:[n.id]}})}},{name:!1===n.visible?"Visible":"Invisible",icon:{name:!1===n.visible?"unfold_more":"unfold_less"},onClick:e=>{e.stopPropagation(),i({type:H,payload:{clusterId:n.id,value:!1===n.visible}})}},{name:"Select",icon:{name:"beenhere"},onClick:e=>{e.stopPropagation(),i({type:je,payload:{itemIds:[n.id]}})}},{name:"Add",icon:{name:"add_circle",color:r===Ye.ADD_CLUSTER_ELEMENT&&(null===(t=o.current)||void 0===t?void 0:t.issuedClusterId)===n.id?"primary":"inherit"},onClick:e=>{e.stopPropagation(),i({type:xe,payload:{clusterId:n.id}})}}]})};function il(){return(il=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ll(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ol(Object(n),!0).forEach((function(t){sl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const cl=Object(g.m)(e=>{const{onCreatePlaylistClick:t}=e,[n,r]=Object(f.a)({expanded:!1,selectedEventIds:[]}),o=n.selectedEventIds.length>0,[{onEvent:l,eventHistory:s}]=Or(e=>({onEvent:e.onEvent,eventHistory:e.eventHistory}));return a.a.createElement(g.c,{style:{overflowY:"auto",overflowX:"hidden",height:"100%",width:"100%"}},a.a.createElement(Vi.a,{expanded:n.expanded,onChange:(e,t)=>r(e=>{e.expanded=t})},a.a.createElement(Hi.a,{"aria-controls":"panel1a-content"},a.a.createElement(g.c,{style:{width:"100%"}},a.a.createElement(g.c,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"}},a.a.createElement(g.c,{style:{flexDirection:"row",alignItems:"center"}},a.a.createElement(gi.a,{variant:"h6"},"History")),a.a.createElement(g.c,{style:{flexDirection:"row"}},a.a.createElement(ii.a,{onClick:e=>{e.stopPropagation(),l({type:He,avoidEventRecording:!0,avoidHistoryRecording:!0})}},a.a.createElement(ri,{name:"keyboard_arrow_down"})),a.a.createElement(ii.a,{onClick:e=>{e.stopPropagation(),l({type:Ie,avoidEventRecording:!0,avoidHistoryRecording:!0})}},a.a.createElement(ri,{name:"keyboard_arrow_up"})))),n.expanded&&o&&a.a.createElement(fi.a,{style:{display:"flex",flexDirection:"row",height:32,width:"100%"}},a.a.createElement(io.a,null,a.a.createElement(Xo.a,{checked:!i.x(n.selectedEventIds)&&n.selectedEventIds.length===s.events.length,onChange:e=>{const{checked:t}=e.target;r(e=>{e.selectedEventIds=t?s.events.map(e=>e.id):[]})},onClick:e=>e.stopPropagation(),inputProps:{"aria-label":"primary checkbox"}}),a.a.createElement(ii.a,{onClick:e=>{e.stopPropagation(),t(n.selectedEventIds),r(e=>{e.selectedEventIds=[]})}},a.a.createElement(ri,{name:"playlist_add"})),a.a.createElement(ii.a,{onClick:e=>{e.stopPropagation(),l({type:de,payload:{itemIds:n.selectedEventIds}}),r(e=>{e.selectedEventIds=[]})}},a.a.createElement(ri,{name:"delete_rounded"})))))),a.a.createElement(Gi.a,null,0===s.events.length&&a.a.createElement(gi.a,null,"Let's do a few things."),a.a.createElement(ao.a,{dense:!0},a.a.createElement(Bo,{onReorder:e=>{const{length:t}=s.events;l({type:Ce,payload:{fromIndex:t-e.source.index-1,toIndex:t-e.destination.index-1}})},data:i.Z(s.events),renderItem:({provided:e,item:t,index:i})=>{const{length:o}=s.events;return a.a.createElement(io.a,il({key:t.id,selected:s.currentIndex===o-1-i,ref:e.innerRef},e.draggableProps),a.a.createElement(Jo.a,null,a.a.createElement(Xo.a,{checked:n.selectedEventIds.includes(t.id),onChange:e=>{const{checked:n}=e.target;r(e=>{n?e.selectedEventIds.push(t.id):e.selectedEventIds=e.selectedEventIds.filter(e=>e!==t.id)})},inputProps:{"aria-label":"primary checkbox"}})),a.a.createElement(lo.a,{primary:t.type}),a.a.createElement(g.c,{style:{display:"flex",flexDirection:"row",alignItems:"center"}},a.a.createElement(qo,{actions:[{name:"Redo",icon:{name:"navigate_next"},onClick:e=>l({type:F,payload:{events:[ll(ll({},t),{},{avoidEventRecording:!0,avoidHistoryRecording:!0})]}})},{name:"Undo",icon:{name:"navigate_before"},onClick:()=>l({type:F,payload:{events:[ll(ll({},s.undoEvents[i]),{},{avoidEventRecording:!0,avoidHistoryRecording:!0})]}})},{name:"Delete",icon:{name:"delete_rounded"},onClick:()=>l({type:de,payload:{itemIds:[t.id]},avoidEventRecording:!0,avoidHistoryRecording:!0})}]}),a.a.createElement(ii.a,il({edge:"end",disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0},e.dragHandleProps),a.a.createElement(ri,{name:"drag_handle"}))))}})))))},{});function dl(){return(dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const ul=e=>{const{createPlaylistDialog:t,onCreatePlaylist:n}=e,[{onEvent:r,playlists:o=[]}]=Or(e=>({onEvent:e.onEvent,playlists:e.playlists})),[s,c]=Object(f.a)({expanded:!1,createPlaylistDialog:{name:""},selectedPlaylistIds:[]}),d=s.selectedPlaylistIds.length>0;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Vi.a,{expanded:s.expanded,onChange:(e,t)=>c(e=>{e.expanded=t})},a.a.createElement(Hi.a,{"aria-controls":"panel1a-content"},a.a.createElement(g.c,{style:{width:"100%"}},a.a.createElement(g.c,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"}},a.a.createElement(g.c,{style:{flexDirection:"row",alignItems:"center"}},a.a.createElement(gi.a,{variant:"h6"},"Playlists"))),s.expanded&&d&&a.a.createElement(fi.a,{style:{display:"flex",flexDirection:"row",height:32,width:"100%"}},a.a.createElement(io.a,null,a.a.createElement(Xo.a,{onClick:e=>e.stopPropagation(),checked:!i.x(s.selectedPlaylistIds)&&s.selectedPlaylistIds.length===o.length,onChange:e=>{const{checked:t}=e.target;c(e=>{e.selectedPlaylistIds=t?o.map(e=>e.id):[]})},inputProps:{"aria-label":"primary checkbox"}}),a.a.createElement(ii.a,{onClick:e=>{e.stopPropagation(),c(e=>{e.selectedPlaylistIds=[]}),r({type:me,payload:{itemIds:s.selectedPlaylistIds}})}},a.a.createElement(ri,{name:"delete_rounded"})))))),a.a.createElement(Gi.a,null,0===o.length&&a.a.createElement(gi.a,null,"Let's create a playlist."),a.a.createElement(ao.a,{dense:!0},a.a.createElement(Bo,{onReorder:e=>r({type:Te,payload:{fromIndex:e.source.index,toIndex:e.destination.index}}),data:o,renderItem:({provided:e,item:t})=>{const{events:n,id:i,name:o}=t;return a.a.createElement(Vi.a,dl({key:i,ref:e.innerRef},e.draggableProps),a.a.createElement(Hi.a,{"aria-controls":"panel1a-content"},a.a.createElement(g.c,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"}},a.a.createElement(g.c,{style:{flexDirection:"row",alignItems:"center"}},a.a.createElement(Xo.a,{onClick:e=>e.stopPropagation(),checked:d&&s.selectedPlaylistIds.includes(t.id),onChange:e=>{const{checked:n}=e.target;c(e=>{n?e.selectedPlaylistIds.push(t.id):e.selectedPlaylistIds=e.selectedPlaylistIds.filter(e=>e!==t.id)})},inputProps:{"aria-label":"primary checkbox"}}),a.a.createElement(gi.a,{variant:"h6"},o)),a.a.createElement(g.c,{style:{flexDirection:"row",alignItems:"center"}},a.a.createElement(qo,{actions:[{name:"Delete",icon:{name:"delete_rounded"},onClick:e=>{e.stopPropagation(),c(e=>{e.selectedPlaylistIds=[]}),r({type:me,payload:{itemIds:[t.id]}})}},{name:"Play",icon:{name:"play_arrow"},onClick:e=>{e.stopPropagation(),r({type:we,payload:{events:t.events}})}}]}),a.a.createElement(ii.a,dl({edge:"end",disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0},e.dragHandleProps),a.a.createElement(ri,{name:"drag_handle"}))))),a.a.createElement(Gi.a,null,n.map(e=>a.a.createElement(io.a,{key:e.id},a.a.createElement(Jo.a,null,a.a.createElement(Xo.a,{inputProps:{"aria-label":"primary checkbox"},onClick:e=>e.stopPropagation()})),a.a.createElement(lo.a,{primary:e.type}),a.a.createElement(Ko.a,null,a.a.createElement(ii.a,{edge:"end","aria-label":"delete",onClick:e=>{e.stopPropagation()}},a.a.createElement(ri,{name:"delete_rounded"})))))))}})))),a.a.createElement(Qo.a,{onClose:t.onClose,"aria-labelledby":"create-playlist-dialog-title",open:t.visible},a.a.createElement(Zo.a,{id:"create-playlist-dialog-title"},"Create Playlist"),a.a.createElement(g.c,{style:{width:"50%",padding:10,justifyContent:"center"}},a.a.createElement(hi.a,{style:{marginBottom:10,width:"50vw"},fullWidth:!0,label:"name",value:s.createPlaylistDialog.name,onChange:({target:{value:e}})=>c(t=>{t.createPlaylistDialog.name=e})}),a.a.createElement(l.a,{fullWidth:!0,onClick:()=>{n({id:i.ob(),name:s.createPlaylistDialog.name}),c(e=>{e.createPlaylistDialog.name=""})}},"Create"))))};function ml(){return(ml=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pl(Object(n),!0).forEach((function(t){gl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const fl=Object(g.m)(e=>{const{isOpen:t=!1,forms:n=[],createClusterForm:r}=e,[{onEvent:o,eventHistory:s,clusters:c,playlists:d}]=Or(e=>{var t;return{onEvent:e.onEvent,eventHistory:e.eventHistory,playlists:e.playlists,clusters:null===(t=e.graphConfig)||void 0===t?void 0:t.clusters}}),u=a.a.useRef({width:330}),{style:m,ref:p}=Object(g.h)({from:{width:0},to:{width:u.current.width},autoPlay:!1},[u.current.width]);a.a.useEffect(()=>{p.current.play(t)},[p,t]);const[h,y]=Object(f.a)({createPlaylistDialog:{visible:!1},selectedEventIds:[]}),b=a.a.useRef(),v=Yi({ref:b,onDrag:({x:e,y:t},n)=>{u.current.width=n.width-e;b.current.style.width=u.current.width+"px"}});return a.a.createElement(Bi.a,{ref:b,style:hl({position:"absolute",height:"100%",top:0,left:0,display:"flex",flexDirection:"row"},m)},a.a.createElement(g.c,{style:{overflowY:"auto",overflowX:"hidden",height:"100%",flex:1}},n.map((e,t)=>{var n,r,s;const c=null!==(n=null===(r=e.schema)||void 0===r?void 0:r.title)&&void 0!==n?n:"Form-"+t;return a.a.createElement(a.a.Fragment,{key:c},a.a.createElement(Vi.a,null,a.a.createElement(Hi.a,null,a.a.createElement(gi.a,{variant:"h6"},c)),a.a.createElement(Gi.a,null,a.a.createElement(pi.a,ml({},e,{schema:i.M(["title"])(e.schema),onSubmit:n=>o({type:Ae,payload:{form:e,value:n.formData,index:t}})}),null!==(s=e.children)&&void 0!==s?s:a.a.createElement(l.a,{type:"submit",fullWidth:!0,variant:"contained"},"Apply")))),a.a.createElement(g.c,{style:{marginTop:5,marginBottom:5}}))}),a.a.createElement(qi.a,null),s&&a.a.createElement(a.a.Fragment,null,a.a.createElement(g.c,{style:{width:"100%"}},a.a.createElement(cl,{onCreatePlaylistClick:e=>y(t=>{t.createPlaylistDialog.visible=!0,t.selectedEventIds=e})})),a.a.createElement(qi.a,{style:{marginTop:5,marginBottom:5}})),a.a.createElement(qi.a,null),d&&a.a.createElement(ul,{createPlaylistDialog:hl(hl({},h.createPlaylistDialog),{},{onClose:()=>y(e=>{e.createPlaylistDialog.visible=!1})}),onCreatePlaylist:e=>{const t=h.selectedEventIds.map(e=>s.events.find(t=>t.id===e)).sort((e,t)=>e.date>t.date?1:-1);y(e=>{e.createPlaylistDialog.visible=!1}),o({type:ee,payload:{items:[hl(hl({},e),{},{events:t})]}})}}),a.a.createElement(qi.a,null),c&&a.a.createElement(a.a.Fragment,null,a.a.createElement(g.c,{style:{width:"100%"}},a.a.createElement(rl,{createClusterForm:r})),a.a.createElement(qi.a,{style:{marginTop:5,marginBottom:5}}))),a.a.createElement(Ki,{onMouseDown:v}),a.a.createElement(ii.a,{style:yl.icon,onClick:()=>{o({type:Me,avoidHistoryRecording:!0})}},a.a.createElement(ri,{name:"settings"})))},{}),yl={icon:{position:"absolute",right:-36,top:2,fontSize:24}},bl=["onEvent","renderEdge","renderNode","graphConfig","style","settingsBar","actionBar","dataBar","preferencesModal","nodes","edges","selectedElementIds","label","mode","events","eventHistory","config","playlists","networkStatistics","isLoading","modals"],vl=["item","element"],El=["item","element"];function Ol(){return(Ol=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wl(Object(n),!0).forEach((function(t){Dl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Il={[Ye.ADD]:"https://img.icons8.com/material/0.8x/plus-math.png",[Ye.DELETE]:"https://img.icons8.com/material/0.8x/minus--v2.png",[Ye.CONTINUES_ADD]:"https://img.icons8.com/material/0.8x/plus.png",[Ye.CONTINUES_DELETE]:"https://img.icons8.com/material/0.8x/minus-sign.png",[Ye.ADD_CLUSTER_ELEMENT]:"https://img.icons8.com/material/0.8x/doctors-folder.png",[Ye.DEFAULT]:null},Pl=i.r,Cl={enableNetworkStatistics:!0},Tl=e=>(e=>{const t=[];return JSON.stringify(e,(e,n)=>{if("object"===typeof n&&null!==n){if(t.includes(n))return null;t.push(n)}return n})})({graphConfig:e.graphConfig,label:e.label,dataBar:i.M(["header","footer"],e.dataBar),actionBar:i.M(["right","left"],e.actionBar),eventHistory:e.eventHistory,mode:e.mode,nodes:e.nodes,edges:e.edges}),jl=Object(g.m)((e,t)=>{const{onEvent:n=Pl,renderEdge:r,renderNode:o,graphConfig:l,style:d,settingsBar:u,actionBar:m,dataBar:p={},preferencesModal:h={},nodes:y,edges:b,selectedElementIds:v=[],label:E,mode:O=Ye.DEFAULT,events:w,eventHistory:x,config:D=Cl,playlists:_,networkStatistics:I,isLoading:P=!1,modals:C}=e,T=_l(e,bl),j=a.a.useRef({initialized:!1,targetNode:null,props:e,issuedClusterId:null,newClusterBoxSelection:{elementIds:[]},networkStatistics:{local:null},contextMenu:{itemIds:[]}}),[S,L]=Object(f.a)({eventsModal:{visible:!1},contextMenu:{visible:!1,position:{x:0,y:0}},isLoading:!1});j.current.props=e,a.a.useEffect(()=>{j.current.initialized=!0},[]);const A=a.a.useMemo(()=>{var e;return null!==(e=null===l||void 0===l?void 0:l.graphId)&&void 0!==e?e:i.ob()},[null===l||void 0===l?void 0:l.graphId]),R=Object(g.j)(t);a.a.useEffect(()=>{setTimeout(()=>{t.current=R.current},1e3)},[R.current]);const N=a.a.useMemo(()=>{var e,t;const n=null===(e=R.current)||void 0===e||null===(t=e.cy)||void 0===t?void 0:t.$id(i.D(v));return 0===(null===n||void 0===n?void 0:n.length)?null:n},[y,b,v]),F=N&&ft(N,{nodes:y,edges:b}).item,V=a.a.useCallback(e=>{const{props:{nodes:t,edges:r}}=j.current;switch(e.type){case xe:j.current.issuedClusterId=e.payload.clusterId;break;case K:{var a,o,s;const{config:c={},name:d}=e.payload,u=fn[d].getByItem(xl({cy:null===(a=R.current)||void 0===a?void 0:a.cy,nodes:t,edges:r},c));let m=(null!==(o=null===l||void 0===l||null===(s=l.clusters)||void 0===s?void 0:s.length)&&void 0!==o?o:0)-1;const p=u.map(e=>{const t=e.map(e=>e.id());return m+=1,{id:i.ob(),name:"Cluster-"+m,ids:t,childClusterIds:[]}}).filter(e=>!!e);return void(0===p.length?alert("There is no clusters with this configuration!"):n({id:i.ob(),date:(new Date).toString(),type:Z,payload:{items:p}}))}}n(xl(xl(xl({},N?{elementId:N.id()}:{}),e),{},{id:i.ob(),date:(new Date).toString()},e.event?{event:i.R([["data","originalEvent","metaKey"]])(e.event)}:{}))},[n,null===F||void 0===F?void 0:F.id]),H=((e,t,n={})=>{const{deps:r=[],renderOnTimeout:i=!1,renderOnFinished:o=!1,renderOnPlayChanged:l=!1,onFinish:s,autostart:c=!0}=n,[,d]=a.a.useState({}),u=a.a.useMemo(()=>ha(e,(e,n,r)=>{t(e,n,r),i&&d({})},{onFinish:()=>{null===s||void 0===s||s(),o&&d({})},onPlayChanged:()=>{l&&d({})},autostart:c}),r);return a.a.useEffect(()=>()=>{u.clear()},r),u})((null!==w&&void 0!==w?w:[]).map((e,t)=>xl(xl({},e),{},{after:null!==w&&void 0!==w&&w[t-1]?new Date(e.date).getMilliseconds()-new Date(w[t-1].date).getMilliseconds():0})),e=>{n(e)},{deps:[w],renderOnFinished:!0,renderOnPlayChanged:!0,autostart:!1});a.a.useEffect(()=>{var e;D.enableNetworkStatistics?j.current.networkStatistics.local=i.K(da({nodes:y,edges:b}),null!==(e=null===I||void 0===I?void 0:I.local)&&void 0!==e?e:{}):j.current.networkStatistics.local=null===I||void 0===I?void 0:I.local},[]),a.a.useMemo(()=>{var e;j.current.initialized&&(j.current.networkStatistics.local=i.K(da({nodes:y,edges:b}),null!==(e=null===I||void 0===I?void 0:I.local)&&void 0!==e?e:{}))},[y,b,null===I||void 0===I?void 0:I.local,D.enableNetworkStatistics]),a.a.useEffect(()=>{j.current.targetNode=null},[O]);const G=a.a.useMemo(()=>({config:D,eventHistory:x,events:w,graphConfig:l,label:E,mode:O,onEvent:V,playlists:_,selectedElementIds:v,localDataRef:j,selectedItem:F,selectedElement:N,networkStatistics:I,graphEditorRef:R,nodes:y,edges:b}),[D,x,w,l,E,O,V,_,v,F,N,I,R,y,b]);return R.current&&(R.current.context=G),a.a.createElement(Er,{value:G},a.a.createElement(la.a,{style:xl(xl({},d),{},{overflow:"hidden",position:"relative"}),onMouseMove:t=>{((e,t,n)=>{const r=(new Date).getTime(),a=null!==n&&void 0!==n?n:i.ob();(xt[a]?r-xt[a]:r)>t&&(xt[a]=r,e(a))})(()=>{const{pageY:n}=t.nativeEvent,{offsetHeight:r,offsetTop:a}=t.currentTarget;if(e.actionBar&&e.actionBar.autoOpen){var i,o;if(n+25>=a+r&&(null===(i=e.actionBar)||void 0===i||!i.isOpen))return V({type:Re,avoidHistoryRecording:!0});if(n+50<=a+r&&null!==(o=e.actionBar)&&void 0!==o&&o.isOpen)return V({type:Re,avoidHistoryRecording:!0})}},1e3,"GraphEditorOnMouseMove")}},a.a.createElement(na,Ol({ref:R,style:{width:null===d||void 0===d?void 0:d.width,height:null===d||void 0===d?void 0:d.height},nodes:y,edges:b},T,{extraData:{label:E,extraData:T.extraData},config:xl(xl({},l),{},{graphId:A}),selectedElementIds:v,onPress:({position:e})=>{S.contextMenu.visible&&L(e=>{e.contextMenu.visible=!1});const{mode:t}=j.current.props;[Ye.ADD,Ye.CONTINUES_ADD].includes(t)?V({type:U,payload:{items:[{id:i.ob(),position:e,data:{}}]}}):V({type:De,payload:{position:e},avoidHistoryRecording:!0})},onBoxSelection:e=>{const{mode:t}=j.current.props,{elementIds:n}=e;Ye.ADD_CLUSTER_ELEMENT!==t?(j.current.newClusterBoxSelection.elementIds=n,n.length>0&&(j.current.contextMenu.itemIds=n,L(t=>{const n=e.event.data.originalEvent;t.contextMenu.visible=!0,t.contextMenu.position=Pt(n)}),V({type:B,payload:{elementIds:n}}))):V({type:k,payload:{clusterId:j.current.issuedClusterId,itemIds:itemIds}})},renderNode:e=>{var t,n,r,l,s,c,d,u,m;let{item:p,element:h}=e,g=_l(e,vl);return a.a.createElement(na.View,{interactive:!0,rightclick:e=>{j.current.contextMenu.itemIds=[h.id()],L(t=>{t.contextMenu.visible=!0,t.contextMenu.position=Pt(e.data.originalEvent)}),e.stopPropagation()},pointertap:e=>{const{mode:t}=j.current.props,n=h.id();[Ye.DELETE,Ye.CONTINUES_DELETE].includes(t)?V({type:ue,payload:{itemIds:[p.id]},event:e}):[Ye.ADD,Ye.CONTINUES_ADD].includes(t)?j.current.targetNode?(V({type:M,payload:{items:[{id:i.ob(),source:j.current.targetNode.id(),target:n}]},event:e}),j.current.targetNode=null):j.current.targetNode=h:Ye.ADD_CLUSTER_ELEMENT!==t?V({type:he,payload:{itemIds:[h.id()]},event:e,avoidHistoryRecording:!0}):V({type:k,payload:{clusterId:j.current.issuedClusterId,itemIds:[n]}})}},(null!==o&&void 0!==o?o:Ar)(xl({item:p,element:h,label:bt(null!==E&&void 0!==E&&E.isGlobalFirst?null!==(t=null===E||void 0===E?void 0:E.global.nodes)&&void 0!==t?t:null===E||void 0===E||null===(n=E.nodes)||void 0===n?void 0:n[p.id]:null!==(r=null===E||void 0===E||null===(l=E.nodes)||void 0===l?void 0:l[p.id])&&void 0!==r?r:null===E||void 0===E?void 0:E.global.nodes,p),labelPath:null!==(s=null!==E&&void 0!==E&&E.isGlobalFirst?null!==(c=null===E||void 0===E?void 0:E.global.nodes)&&void 0!==c?c:null===E||void 0===E||null===(d=E.nodes)||void 0===d?void 0:d[p.id]:null!==(u=null===E||void 0===E||null===(m=E.nodes)||void 0===m?void 0:m[p.id])&&void 0!==u?u:null===E||void 0===E?void 0:E.global.nodes)&&void 0!==s?s:[]},g)))},renderEdge:e=>{var t,n,i,o,l,s,c,d,u;let{item:m,element:p}=e,h=_l(e,El);return a.a.createElement(na.View,{interactive:!0,rightclick:e=>{V({type:he,payload:{itemIds:[p.id()]},event:e,avoidHistoryRecording:!0}),L(e=>{e.contextMenu.visible=!0}),e.stopPropagation()},pointertap:e=>{const{mode:t}=j.current.props;[Ye.DELETE,Ye.CONTINUES_DELETE].includes(t)?V({type:ce,payload:{itemIds:[m.id]},event:e}):V({type:he,payload:{itemIds:[p.id()]},avoidHistoryRecording:!0})}},(null!==r&&void 0!==r?r:Rr)(xl({item:m,label:bt(null!==E&&void 0!==E&&E.isGlobalFirst?null!==(t=null===E||void 0===E?void 0:E.global.edges)&&void 0!==t?t:null===E||void 0===E||null===(n=E.edges)||void 0===n?void 0:n[m.id]:null!==(i=null===E||void 0===E||null===(o=E.edges)||void 0===o?void 0:o[m.id])&&void 0!==i?i:null===E||void 0===E?void 0:E.global.edges,m),labelPath:null!==(l=null!==E&&void 0!==E&&E.isGlobalFirst?null!==(s=null===E||void 0===E?void 0:E.global.edges)&&void 0!==s?s:null===E||void 0===E||null===(c=E.edges)||void 0===c?void 0:c[m.id]:null!==(d=null===E||void 0===E||null===(u=E.edges)||void 0===u?void 0:u[m.id])&&void 0!==d?d:null===E||void 0===E?void 0:E.global.edges)&&void 0!==l?l:[],element:p},h)))}})),u&&a.a.createElement(fl,u),a.a.createElement(go,p),m&&a.a.createElement(Ui,Ol({onAction:({type:t,value:n})=>{switch(t){case ye:V({type:ye,payload:{value:Tl(e)}});break;case W:V({type:W,payload:{value:n}});break;default:V({type:t,payload:n})}}},m)),a.a.createElement(Eo,{name:Il[O],cursor:!0}),a.a.createElement(No,{timeoutManager:H,onClose:()=>{L(()=>{}),H.clear()}}),a.a.createElement(oa,{graphEditorRef:R,items:[{value:"CreateCluster",label:"Create Cluster"},{value:"Delete",label:"Delete"},{value:"Settings",label:"Settings"}],onSelect:e=>{var t,n;const{current:{contextMenu:{itemIds:r}}}=j;switch(e){case"CreateCluster":V({type:Z,payload:{items:[{id:i.ob(),name:"Cluster-"+(null!==(t=null===l||void 0===l||null===(n=l.clusters)||void 0===n?void 0:n.length)&&void 0!==t?t:0),ids:r,childClusterIds:[]}]}});break;case"Delete":V({type:ue,payload:{itemIds:r}});break;case"Settings":V({type:ge,payload:{itemIds:r}})}j.current.newClusterBoxSelection.elementIds=[],j.current.contextMenu.itemIds=[],L(e=>{e.contextMenu.visible=!1})},position:S.contextMenu.position,open:S.contextMenu.visible})),a.a.createElement(Co,h),Object.keys(C).map(e=>{var t;return a.a.createElement(vo,Ol({key:e},null!==(t=C[e])&&void 0!==t?t:{},{name:e}))}),a.a.createElement(s.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:P||S.isLoading},a.a.createElement(c.a,{color:"inherit"})))},{isEqual:(e,t)=>!!i.w(Function,e)||e===t,isForwardRef:!0});var Sl=n(1113);const kl=({formData:e,schema:t,onChange:n,name:r})=>{var i;return a.a.createElement(a.a.Fragment,null,a.a.createElement(gi.a,{id:t.title+"-continuous-slider",gutterBottom:!0},null!==(i=t.title)&&void 0!==i?i:r),a.a.createElement(Sl.a,{value:null!==e&&void 0!==e?e:[t.minimum,t.maximum],onChange:e=>{n(e.target.value)},valueLabelDisplay:"auto","aria-labelledby":t.title+"-continuous-slider",min:t.minimum,max:t.maximum}))},Ll={schema:{title:"Visualisation",type:"object",required:[],additionalProperties:!1,properties:{nodeSize:{type:"string",title:"Node Size",enum:["degree","out_degree","in_degree","year"]},nodeColor:{type:"string",title:"Node Color",enum:["community","degree","out_degree","in_degree","year"]}}}};function Al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Nl={items:[],currentIndex:0},Ml="REDO",Ul="UNDO",Fl="UNDO_ALL",Bl="REDO_ALL",Vl=e=>{const{onEvent:t=(()=>{})}=e,n={current:null},r=i.f(Nl),a={record:r,add:e=>{const{currentIndex:t,items:n}=r;r.items=i.bb(0,t)(n),r.items.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Al(Object(n),!0).forEach((function(t){Rl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:i.ob()},e)),r.currentIndex=r.items.length},clear:()=>{const{current:e}=n;e.set(i.f(Nl))},set:e=>{Object.keys(e).forEach(t=>{r[t]=e[t]})},undo:()=>{var e;const n=null===r||void 0===r||null===(e=r.items)||void 0===e?void 0:e[r.currentIndex-1];if(n){var a;(null===(a=t({item:n,type:Ul,actions:n.undo}))||void 0===a||a)&&(r.currentIndex-=1)}},redo:()=>{var e;const{currentIndex:n}=r,a=null===r||void 0===r||null===(e=r.items)||void 0===e?void 0:e[n];if(a){var i;(null===(i=t({item:a,type:Ml,actions:a.do}))||void 0===i||i)&&(r.currentIndex=n+1)}},undoAll:()=>i.qb(i.c([i.A,()=>r.items.length>r.currentIndex]),()=>{const{items:e}=r,n=i.bb(0,r.currentIndex+1)(e),a=i.mb(i.F(e=>e.undo,n)),o=i.mb(i.F(e=>e.do,n));t({item:{id:i.ob,do:o,undo:a},actions:a,items:n,type:Fl}),r.currentIndex=0})(r),redoAll:()=>i.qb(i.c([i.A,()=>r.items.length>r.currentIndex]),()=>{const{items:e}=r,n=i.bb(0,r.currentIndex+1)(e),a=i.mb(i.F(e=>e.undo,n)),o=i.mb(i.F(e=>e.do,n));t({item:{id:i.ob,do:o,undo:a},actions:o,items:n,type:Bl}),r.currentIndex=0})(r),delete:e=>{r.items=r.items.filter((t,n)=>{const a=e.includes(t.id);return a&&n<r.currentIndex&&(r.currentIndex-=1),!a})},getEventIdsByDoItemIds:e=>r.items.filter(t=>{const n=t.do.map(e=>e.id);return i.v(n,e).length>0}).map(e=>e.id),reorder:(e,t)=>{r.items=i.X(e,t)(r.items)}};return n.current=a,a};var Hl=n(99);function Gl(){return(Gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ql(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ql(Object(n),!0).forEach((function(t){Yl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ql(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Wl=e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.id)&&void 0!==t?t:e},$l=e=>{const{sidebar:t,onSelect:n,selectedPath:r}=e;return a.a.createElement(g.c,null,a.a.createElement(qi.a,null),a.a.createElement(ao.a,null,a.a.createElement(g.a,{data:t,extraData:[r,n],accessor:["children"],renderItem:e=>{const{children:t}=e,i=e.item;return a.a.createElement(Xl,{item:i,onSelect:n,path:e.path,selectedPath:r},t)}})))},Xl=e=>{const{children:t,item:n,onSelect:r,path:o,selectedPath:l}=e,[s,c]=a.a.useState(!1),d=i.w(String)(n)?{label:n,id:n}:n,u=!!d.children,m=l.join("").includes(o.join(""));return a.a.createElement(a.a.Fragment,null,a.a.createElement(io.a,{button:!0,onClick:()=>{r(o),c(!s)},selected:m},a.a.createElement(oo.a,null,d.icon),a.a.createElement(lo.a,{primary:d.label}),u?s?a.a.createElement(_o.a,null):a.a.createElement(Po.a,null):null),a.a.createElement(xo.a,{in:s,timeout:"auto",unmountOnExit:!0},a.a.createElement(ao.a,{component:"div",disablePadding:!0,sx:{ml:2}},t)))},Jl={General:()=>a.a.createElement("div",null,"General"),Visualization:{schema:{type:"object",properties:{size:{title:"Size",type:"integer",minimum:10,maximum:50},fontSize:{title:"Font Size",type:"integer",minimum:10,maximum:50},backgroundColor:{type:"string",title:"color picker",default:"#151ce6"},textColor:{type:"string",title:"color picker",default:"#151ce6"}}},uiSchema:{size:{"ui:widget":"range"},fontSize:{"ui:widget":"range"},backgroundColor:{"ui:widget":"color"},textColor:{"ui:widget":"color"}}},Filter:()=>a.a.createElement("div",null,"Filter"),History:()=>a.a.createElement("div",null,"History"),Settings:()=>a.a.createElement("div",null,"Settings")},Kl=[{icon:a.a.createElement(ri,{name:"settings"}),id:"General",children:["Visualization"]}];function Ql(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ql(Object(n),!0).forEach((function(t){es(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ql(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function es(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ts=e=>{e.actionBar.isOpen=!1,e.dataBar.isOpen=!1,e.settingsBar.isOpen=!1},ns=(e,t)=>{const n=a.a.useMemo(()=>i.J([as,e]),[]),r=a.a.useMemo(()=>Vl({onEvent:e=>{const{actions:t}=e;t.map(m)}}),[]),o=a.a.useRef(null),l=null!==t&&void 0!==t?t:o,s=a.a.useRef({recordedEvents:[]}),[c,d]=Object(f.a)(n),u=a.a.useCallback(async e=>{await d(async t=>{await e(t,{graphEditorRef:l})})},[d,l]),m=a.a.useCallback(e=>{const{type:t,payload:a={},index:o=0,dataItem:d={},event:p,elementId:h,avoidEventRecording:g,avoidHistoryRecording:f}=e,y=l.current,b=h?y.cy.$id(""+h):null;u(async l=>{var h,v,E,O,w,x,D,I,P;try{var C,T,j;if(!f){const{addHistory:t,events:n}=((e,t)=>{const{controllerState:n,graphEditor:r}=t,a=i.mb(e.map(e=>{var t,a,i,o,l,s;const{type:c,payload:d}=e,u=n.selectedElementIds,{selectedElement:m,selectedItem:p}=yt(n,r);switch(c){case k:return[{type:re,payload:d}];case M:return[{type:ce,payload:d}];case U:return[{type:ue,payload:d}];case W:return[{type:W,payload:{value:null===(t=n.actionBar)||void 0===t||null===(a=t.theming)||void 0===a?void 0:a.value}}];case H:return[{type:H,payload:ct(ct({},d),{},{value:!d.value})}];case $:return[{type:Se,payload:{value:n.label.global.nodes}}];case X:return[{type:ke,payload:{value:n.label.nodes[p.id]}}];case ee:return[{type:me,payload:{itemIds:null===(i=d.items)||void 0===i?void 0:i.map(e=>e.id)}}];case Z:return[{type:ae,payload:{itemIds:null===(o=d.items)||void 0===o?void 0:o.map(e=>e.id)}}];case ae:{var h,g;const{itemIds:e=[]}=d,t=null===(h=n.graphConfig)||void 0===h||null===(g=h.clusters)||void 0===g?void 0:g.filter(t=>e.includes(t.id));return[{type:Z,payload:{items:t}}]}case re:return[{type:k,payload:d}];case ce:return[{type:M,payload:{items:n.edges.filter(e=>d.itemIds.includes(e.id))}}];case ue:{const{itemIds:e}=d,t=n.edges.filter(t=>e.includes(t.source)||e.includes(t.target));return[{type:U,payload:{items:n.nodes.filter(t=>e.includes(t.id)).map(e=>{const t=r.cy.$id(e.id).position();return ct(ct({},e),{},{position:t})}),edgeItems:t}}]}case me:return[{type:ee,payload:{items:n.playlists.filter(e=>d.itemIds.includes(e.id))}}];case he:case pe:return u&&u.length>0?[ct(ct({},e),{},{type:he,payload:{itemIds:u}})]:[{type:De,payload:{x:r.viewport.center.x,y:r.viewport.center.y}}];case Ee:return[{type:Le,payload:{oldLayout:null===(l=n.graphConfig)||void 0===l?void 0:l.layout,positions:r.cy.nodes().map(e=>({position:{x:e.position().x,y:e.position().y},elementId:e.id()}))}}];case Oe:return[{type:Oe,payload:{value:n.mode}}];case De:return u?[ct(ct({},e),{},{payload:{itemIds:u},type:he,event:{data:{originalEvent:{metaKey:!1}}}})]:[];case Se:return[{type:Se,payload:{value:n.label.global.nodes}}];case ke:return[{type:ke,payload:{value:n.label.nodes[p.id]}}];case Ge:return[{type:Ge,payload:{value:p.data}}];case Le:return[{type:Le,payload:{oldLayout:null===(s=n.graphConfig)||void 0===s?void 0:s.layout,positions:d.positions.map(({elementId:e})=>{const t=r.cy.$id(""+e);return{position:{x:t.position().x,y:t.position().y},elementId:e}})}}]}return[]}));return{addHistory:!i.x(a),events:a}})([e],{graphEditor:y,controllerState:c});t&&r.add({do:[Zl(Zl({},e),{},{event:p,avoidEventRecording:!0,avoidHistoryRecording:!0})],undo:n.map(e=>Zl(Zl({},e),{},{avoidEventRecording:!0,avoidHistoryRecording:!0}))})}null!==(C=l.actionBar)&&void 0!==C&&C.eventRecording&&t!==Be&&!g&&s.current.recordedEvents.push(Zl(Zl({},e),{},{event:p}));if(!1===await(null===(T=n.onEvent)||void 0===T?void 0:T.call(n,Zl(Zl({},e),{},{graphEditor:y,update:u,state:c}),l)))return;const{item:et}=null!==(j=b&&ft(b,l))&&void 0!==j?j:{},tt=null===et||void 0===et?void 0:et.data;switch(t){case Ie:r.redo();break;case He:r.undo();break;case Ge:{const{selectedItem:e}=yt(l,y);e.data=a.value;break}case N:tt.push(Zl(Zl({},a),{},{value:[a.value]}));break;case U:{const{items:e,edgeItems:t}=a;l.nodes=l.nodes.concat(e),l.edges=l.edges.concat(null!==t&&void 0!==t?t:[]),l.mode===Ye.ADD&&(l.mode=Ye.DEFAULT);break}case ue:{const{itemIds:e=[]}=a;l.nodes=l.nodes.filter(t=>!e.includes(t.id)),l.edges=l.edges.filter(t=>!e.includes(t.source)&&!e.includes(t.target)),l.mode===Ye.DELETE&&(l.mode=Ye.DEFAULT);break}case M:l.edges=l.edges.concat(a.items),l.mode===Ye.ADD&&(l.mode=Ye.DEFAULT);break;case ce:{const{itemIds:e=[]}=a;l.edges=l.edges.filter(t=>!e.includes(t.id)),l.mode===Ye.DELETE&&(l.mode=Ye.DEFAULT);break}case De:l.selectedElementIds=[];break;case pe:{const{itemIds:e}=a;l.selectedElementIds=e;const{selectedElement:t}=yt(Zl(Zl({},c),{},{selectedElementIds:e}),y);if(t){const{viewport:e}=y,n=2e3;let r;r=t.isNode()?t.position():yn.d(t.source().position())(t.target().position());const a={x:r.x+n/4,y:r.y},i=new _.l(a.x,a.y);e.center=i}break}case he:{const{itemIds:e}=a;l.selectedElementIds=e;const{selectedElement:t}=yt(Zl(Zl({},c),{},{selectedElementIds:e}),y);if(p&&p.data.originalEvent.metaKey&&null!==t&&void 0!==t&&t.isNode()){l.dataBar.isOpen=!0;const{viewport:e}=y,n=2e3,r=t.position(),a={x:r.x+n/4,y:r.y};t.neighborhood().layout(Zl(Zl({},na.Layouts.circle),{},{boundingBox:{x1:a.x-n/2,y1:a.y-n/3,w:n/2,h:n/2}})).start(),e.snapZoom({center:new _.l(a.x,a.y),width:n,forceStart:!0,time:na.Layouts.grid.animationDuration+500,removeOnComplete:!0,removeOnInterrupt:!0})}break}case Oe:l.mode=a.value;break;case q:tt[o].name=a.value;break;case Y:tt[o].value[a.valueIndex]=rs(d.type,a.value);break;case R:tt[o].value.push(a.value);break;case le:tt[o].value.splice(a.valueIndex,1);break;case ne:{const{value:e}=tt[o],{length:t}=e,n=e[a.valueIndex],r=(0===a.valueIndex?t-1:a.valueIndex-1)%t;e[a.valueIndex]=e[r],e[r]=n;break}case te:{const{value:e}=tt[o],{length:t}=e,n=e[a.valueIndex],r=(a.valueIndex+1)%t;e[a.valueIndex]=e[r],e[r]=n;break}case se:tt.splice(o,1);break;case G:tt[o].additional[a.index].name=a.value;break;case z:{const e=tt[o].additional[a.index];tt[o].additional[a.index].value[a.valueIndex]=rs(e.type,a.value);break}case L:tt[o].additional.push(a);break;case A:tt[o].additional[a.index].value.push(a.value);break;case oe:tt[o].additional[a.index].value.splice(a.valueIndex,1);break;case ie:tt[o].additional.splice(a.index,1);break;case Me:l.settingsBar.isOpen=!(null!==(h=l.settingsBar)&&void 0!==h&&h.isOpen);break;case Ne:l.dataBar.isOpen=!(null!==(v=l.dataBar)&&void 0!==v&&v.isOpen);break;case Re:l.actionBar.isOpen=!(null!==(E=l.actionBar)&&void 0!==E&&E.isOpen);break;case be:i.H((e,t)=>{l[t]=e})(a.value);const{eventHistory:t}=null!==(O=a.value)&&void 0!==O?O:{};r.set({currentIndex:t.events.length,items:t.events.map((e,n)=>({id:i.ob(),do:[e],undo:[t.undoEvents[n]]}))});break;case ve:ts(l),l.events=[...null!==(w=a.value)&&void 0!==w?w:[]];break;case we:ts(l),l.events=[...null!==(x=a.events)&&void 0!==x?x:[]];break;case F:a.events.map(e=>m(e));break;case ye:Object(Hl.a)(a.value,"perfect-graph.json");break;case Ve:l.actionBar.recording=!(null!==(D=l.actionBar)&&void 0!==D&&D.recording);break;case Be:null!==(I=l.actionBar)&&void 0!==I&&I.eventRecording&&(Object(Hl.a)(JSON.stringify(s.current.recordedEvents),"recorded-events.json"),s.current.recordedEvents=[]),l.actionBar.eventRecording=!(null!==(P=l.actionBar)&&void 0!==P&&P.eventRecording);break;case _e:Object(Hl.a)(e.payload.value,"perfect-graph.mp4");break;case Ee:{let e;a.value.name&&(e=i.Q(e=>i.A(e))(Zl(Zl({},S[a.value.name]),a.value))),l.graphConfig.layout=e;break}case Le:{const{positions:e,oldLayout:t}=a;e.forEach(e=>{null===y||void 0===y||y.cy.$id(e.elementId).position(e.position)}),l.graphConfig.layout=t;break}case ke:{const{value:e}=a;l.label.nodes[et.id]=e;break}case X:delete l.label.nodes[et.id];break;case Ue:var B;l.label.isGlobalFirst.nodes=!(null!==(B=l.label)&&void 0!==B&&B.isGlobalFirst.nodes);break;case Se:{const{value:e}=a;l.label.global.nodes=e;break}case $:l.label.global.nodes=[];break;case je:{var V,K;const{itemIds:e=[]}=a,t=null===(V=l.graphConfig)||void 0===V||null===(K=V.clusters)||void 0===K?void 0:K.filter(t=>e.includes(t.id));l.selectedElementIds=i.h(t.map(e=>e.ids));break}case ae:{var Q,Ae;const{itemIds:e=[]}=a;l.graphConfig.clusters=null===(Q=l.graphConfig)||void 0===Q||null===(Ae=Q.clusters)||void 0===Ae?void 0:Ae.filter(t=>!e.includes(t.id));break}case re:{var Fe,qe;const{clusterId:e,itemIds:t=[]}=a,n=null===(Fe=l.graphConfig)||void 0===Fe||null===(qe=Fe.clusters)||void 0===qe?void 0:qe.find(t=>t.id===e);n.ids=n.ids.filter(e=>!t.includes(e));break}case Z:{var ze,We;const{items:e=[]}=a;l.graphConfig.clusters=null===(ze=l.graphConfig)||void 0===ze||null===(We=ze.clusters)||void 0===We?void 0:We.concat(e);break}case xe:if(l.mode===Ye.ADD_CLUSTER_ELEMENT)return void(l.mode=Ye.DEFAULT);l.mode=Ye.ADD_CLUSTER_ELEMENT;break;case k:{var $e,Xe,Je;const{clusterId:e,itemIds:t}=a,n=null===($e=l.graphConfig)||void 0===$e||null===(Xe=$e.clusters)||void 0===Xe?void 0:Xe.find(t=>t.id===e);n.ids=i.kb(null!==(Je=null===n||void 0===n?void 0:n.ids)&&void 0!==Je?Je:[],t);break}case H:{var Ke,Qe;const{clusterId:e,value:t}=a;(null===(Ke=l.graphConfig)||void 0===Ke||null===(Qe=Ke.clusters)||void 0===Qe?void 0:Qe.find(t=>t.id===e)).visible=t;break}case de:{const{itemIds:e=[]}=a;r.delete(r.getEventIdsByDoItemIds(e));break}case Ce:{const{fromIndex:e,toIndex:t}=a;r.reorder(e,t);break}case Pe:{const{fromIndex:e,toIndex:t}=a;l.graphConfig.clusters=i.X(e,t,l.graphConfig.clusters);break}case ee:{const{items:e=[]}=a;l.playlists=l.playlists.concat(e);break}case Te:{const{fromIndex:e,toIndex:t}=a;l.playlists=i.X(e,t,l.playlists);break}case me:{const{itemIds:e=[]}=a;l.playlists=l.playlists.filter(t=>!e.includes(t.id));break}case ge:var Ze;null!==(Ze=l.modals)&&void 0!==Ze&&Ze.ElementSettings&&(l.modals.ElementSettings.isOpen=!0);break;case fe:{const{name:e,value:t}=a;console.log("v",e,t);break}case J:{const{name:e}=a;l.modals[e].isOpen=!1;break}}}catch(et){console.log("error",et)}})},[c]);return[Zl(Zl(Zl({},c),t?{}:{ref:o}),{},{eventHistory:{currentIndex:r.record.currentIndex-1,events:i.mb(i.F(e=>e.do,r.record.items)),undoEvents:i.mb(i.F(e=>e.undo,r.record.items))},onEvent:m}),{update:u,onEvent:m}]},rs=(e,t)=>t,as={nodes:[],edges:[],isLoading:!1,label:{global:{nodes:["id"],edges:["id"]},nodes:{},edges:{},isGlobalFirst:{edges:!1,nodes:!1}},actionBar:{isOpen:!1},dataBar:{isOpen:!1},settingsBar:{isOpen:!1},mode:Ye.DEFAULT,selectedElementIds:[],graphConfig:{clusters:[]},playlists:[],modals:{ElementSettings:{isOpen:!1,render:e=>{var t,n;const{sidebar:r=Kl,components:o=Jl}=e,[{onEvent:s,graphEditorLocalDataRef:c}]=Or(e=>({onEvent:e.onEvent,graphEditorLocalDataRef:e.localDataRef})),u=a.a.useMemo(()=>{var e;const t=e=>{var n,r;return"string"===typeof e?{id:e,label:e}:zl(zl({label:e.id},e),{},{children:null!==(n=null===(r=e.children)||void 0===r?void 0:r.map(e=>t(e)))&&void 0!==n?n:[]})};return null!==(e=null===r||void 0===r?void 0:r.map(e=>t(e)))&&void 0!==e?e:[]},[r]),[m,p]=Object(f.a)({componentId:Wl(u[0]),selectedPath:[Wl(u[0])]}),h=a.a.useCallback(e=>{const t=Object(g.f)(["children"],e,u);p(n=>{n.selectedPath=e,n.componentId=Wl(t)})},[]),y=a.a.useMemo(()=>$l({sidebar:u,onSelect:h,selectedPath:m.selectedPath}),[u,o,m.selectedPath]),b=null!==(t=o[m.componentId])&&void 0!==t?t:a.a.Fragment,v=o[m.componentId];return a.a.createElement(Bi.a,{style:{display:"flex",flexDirection:"column",width:"80vw",height:"80vh"}},a.a.createElement(g.c,null,a.a.createElement(gi.a,{variant:"h6"},"Preferences")),a.a.createElement(g.c,{style:{flexDirection:"row"}},a.a.createElement(g.c,{style:{marginRight:4,flexDirection:"row"}},a.a.createElement(d.a,{in:!0},y),a.a.createElement(qi.a,{orientation:"vertical",flexItem:!0})),a.a.createElement(g.c,null,g.g.compatible(b)?a.a.createElement(b,null):a.a.createElement(Bi.a,{style:{maxWidth:"80%",maxHeight:"90%",overflow:"scroll",padding:2}},a.a.createElement(pi.a,Gl({},v,{style:{width:"100%",height:"100%"},schema:i.M(["title"])(v.schema),onSubmit:({formData:e})=>{s({type:fe,payload:{name:m.componentId,value:e,itemIds:c.current.contextMenu.itemIds}}),c.current.contextMenu.itemIds=[]}}),null!==(n=v.children)&&void 0!==n?n:a.a.createElement(l.a,{type:"submit",fullWidth:!0,variant:"contained"},"Save"))))))}}}};var is=n(426),os=n.n(is);function ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(n),!0).forEach((function(t){cs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ds=e=>{const{item:t,element:n,cy:r,theme:o,visualization:l,filtering:s,labelPath:c,label:d,graphRef:u}=e,m=i.fb(6,""+d),p=ms(t.data,l.nodeSize),h=l.nodeColor?ps(t.data,l.nodeColor):o.palette.background.paper,g=n.connectedEdges(":selected").length>0,f=a.a.useRef(null),y=a.a.useRef({scale:{x:1,y:1},text:{top:-62,left:-10}});return a.a.useEffect(()=>{const e=()=>{const e=1/u.current.viewport.scale.x,t=1/u.current.viewport.scale.y;if(y.current.scale.x=e,y.current.scale.y=t,e>=1&&e<=5){f.current.scale.x=e,f.current.scale.y=t;const n=-20*t,r=-10*e;return f.current.x=r,void(f.current.y=n)}};return u.current.viewport&&(e(),u.current.viewport.on("zoomed",e)),()=>{u.current.viewport&&u.current.viewport.off("zoomed",e)}},[u.current.viewport]),a.a.createElement(na.View,{style:{width:p,height:p,justifyContent:"center",alignItems:"center",display:"flex",backgroundColor:g?o.palette.secondary.main:n.selected()?o.palette.primary.main:n.hovered()?o.palette.secondary.main:h,borderRadius:p},pointertap:e=>{r.$(":selected").unselect(),n.select()}},a.a.createElement(na.Text,{ref:f,style:{position:"absolute",left:y.current.text.left,top:y.current.text.top-p/3,fontSize:20},isSprite:!0},m))},us={size:[60,250],community:[0,10],in_degree:[0,10],out_degree:[0,10],degree:[0,20],year:[1969,2015]},ms=(e,t)=>{var n;if(!t)return us.size[0];const r=us[t],a=us.size[1]-us.size[0],i=r[1]-r[0];return((null!==(n=e[t])&&void 0!==n?n:r[0])-r[0])/i*a+us.size[0]},ps=(e,t)=>{var n;if(!t)return hs(0);const r=us[t],a=(us.size[1],us.size[0],r[1]-r[0]),i=(null!==(n=e[t])&&void 0!==n?n:r[0])-r[0];return hs(i/a*100)},hs=(e,t=20,n=80)=>{var r,a,i=n-t;return(e=0===i?100:(e-t)/i*100)<50?(r=255,a=Math.round(5.1*e)):(a=255,r=Math.round(510-5.1*e)),"#"+("000000"+(65536*r+256*a+0).toString(16)).slice(-6)},gs=({item:e,element:t,cy:n,theme:r,visualization:o,filtering:l,graphRef:s})=>{const c=i.fb(6,e.id),d=a.a.useRef(null);a.a.useRef({fontSize:16});return a.a.useEffect(()=>{const e=()=>{const e=1/s.current.viewport.scale.x,t=1/s.current.viewport.scale.y;e>=1&&e<=5&&(d.current.scale.x=e,d.current.scale.y=t)};return s.current.viewport&&(e(),s.current.viewport.on("zoomed",e)),()=>{s.current.viewport&&s.current.viewport.off("zoomed",e)}},[s.current.viewport]),a.a.createElement(na.View,{interactive:!0,style:{position:"absolute",justifyContent:"center",alignItems:"center",display:"flex"},pointertap:()=>{n.$(":selected").unselect(),t.select()}},a.a.createElement(na.Text,{ref:d,style:{fontSize:16},isSprite:!0},c))};var fs=n(1106);function ys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ys(Object(n),!0).forEach((function(t){vs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Es=e=>bs(bs(bs({},e),e.position?{position:JSON.parse(e.position)}:{}),{},{data:JSON.parse(e.data)});var Os=n(434),ws=n.n(Os);const xs=({formData:e,schema:t,onChange:n,name:r})=>{var i;return a.a.createElement(a.a.Fragment,null,a.a.createElement(gi.a,{id:t.title+"-continuous-slider",gutterBottom:!0},null!==(i=t.title)&&void 0!==i?i:r),a.a.createElement(Sl.a,{value:null!==e&&void 0!==e?e:[t.minimum,t.maximum],onChange:e=>{n(e.target.value)},valueLabelDisplay:"auto","aria-labelledby":t.title+"-continuous-slider",min:t.minimum,max:t.maximum}))},Ds=()=>({schema:{title:"Fetch Data",type:"object",required:[],additionalProperties:!1,properties:{DataSources:{type:"array",title:"Data sources",uniqueItems:!0,items:{enum:["RS","ECHR","Eurlex"],enumNames:["Rechtspraak","European Court of Human Rights","Eurlex"],type:"string"}},Eclis:{type:"string",title:"ECLIs"},Keywords:{type:"string",title:"Keywords"},Articles:{type:"string",title:"Articles"},Date:{type:"array",title:"Date",items:{type:"number"},minimum:1969,maximum:2015},Instances:{type:"array",title:"Instances",uniqueItems:!0,items:{enum:["","Hoge Raad","Raad van State","Centrale Raad van Beroep","College van Beroep voor het bedrijfsleven","Gerechtshof Arnhem-Leeuwarden","Gerechtshof Amsterdam"],type:"string"}},Domains:{type:"array",title:"Domains",uniqueItems:!0,items:{enum:["","Not","Sure","What"],type:"string"}},Doctypes:{type:"array",title:"Document types",uniqueItems:!0,items:{enum:["","DEC","OPI"],enumNames:["","Decision","Opinion"],type:"string"}},DegreesSources:{type:"integer",title:"Degrees Sources",minimum:1,maximum:5},DegreesTargets:{type:"integer",title:"Degrees Targets",minimum:1,maximum:5}}},uiSchema:{Date:{"ui:field":xs}}});function _s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Is(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ps=e=>{const t=e.Date;return console.log(t),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_s(Object(n),!0).forEach((function(t){Is(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({DateStart:t[0]+"-01-01",DateEnd:t[1]+"-12-31"},e)},Cs=e=>{const{isOpen:t,onStart:n,onError:r,onFinish:i,query:o,onClose:l}=e,[s,c]=a.a.useState(o);return a.a.createElement(yo.a,{open:t,style:{display:"flex",justifyContent:"center",alignItems:"center"},BackdropProps:{}},a.a.createElement(Bi.a,{style:{display:"flex",flexDirection:"column",width:"80%",height:"80%",padding:10,overflow:"scroll"}},a.a.createElement(la.a,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:10}},a.a.createElement(gi.a,{variant:"h6"},"Query Builder"),a.a.createElement(ii.a,{"aria-label":"Example",onClick:l},a.a.createElement(ws.a,null))),a.a.createElement(la.a,{style:{display:"flex",flexDirection:"column"}},a.a.createElement(pi.a,{schema:Ds().schema,uiSchema:Ds().uiSchema,onChange:e=>c(e.formData),formData:s,onSubmit:async e=>{n();try{let t=await async function(e){try{console.log(e);const t=(await fs.a.graphql({query:"query QueryNetworkByUserInput(\n  $DataSources: [String]\n  $Keywords: String\n  $Articles: String\n  $Eclis: String\n  $DegreesSources: Int\n  $DegreesTargets: Int\n  $DateStart: AWSDate\n  $DateEnd: AWSDate\n  $Instances: [String]\n  $Domains: [String]\n  $Doctypes: [String]\n) {\n  queryNetworkByUserInput(\n    DataSources: $DataSources\n    Keywords: $Keywords\n    Articles: $Articles\n    Eclis: $Eclis\n    DegreesSources: $DegreesSources\n    DegreesTargets: $DegreesTargets\n    DateStart: $DateStart\n    DateEnd: $DateEnd\n    Instances: $Instances\n    Domains: $Domains\n    Doctypes: $Doctypes\n  ) {\n    nodes {\n      id\n      data\n    }\n    edges {\n      id\n      source\n      target\n      data\n    }\n    statistics\n    message\n  }\n}",variables:e})).data.queryNetworkByUserInput;return console.log(t),{nodes:t.nodes.map(Es),edges:t.edges.map(Es),networkStatistics:JSON.parse(t.statistics),message:t.message}}catch(t){console.log("error creating node:",t)}}(Ps(e.formData));if(0==t.nodes.length)throw new Error("No cases returned");i({nodes:t.nodes,edges:t.edges,networkStatistics:t.networkStatistics,message:t.message})}catch(e){console.log(e),r(e)}}}))))},Ts=e=>{const{isOpen:t,videoId:n,onClose:r}=e;return a.a.createElement(yo.a,{open:t,onClose:r,style:{display:"flex",justifyContent:"center",alignItems:"center"}},a.a.createElement("iframe",{width:"853",height:"480",src:"https://www.youtube.com/embed/"+n,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Embedded youtube"}))},js=["changeMUITheme","dispatch","width","height"];function Ss(){return(Ss=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ks(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function As(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ls(Object(n),!0).forEach((function(t){Rs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ns="TEST_API",Ms=Object(o.a)({palette:{mode:"dark"}}),Us=Object(o.a)({palette:{mode:"light"}}),Fs=(Bs=800,Vs=800,{nodes:i.U(0,Bs).map(e=>({id:"node-"+e})),edges:i.U(0,Vs).map(e=>({id:"edge-"+e,source:"node-"+Math.floor(Math.random()*Bs),target:"node-"+Math.floor(Math.random()*Bs)}))});var Bs,Vs;console.log("NODES:",Fs.nodes.length),console.log("EDGES:",Fs.edges.length);Hs=Fs.nodes,ss(ss({},os()(i.I(Hs),{objects:{additionalProperties:!1},arrays:{mode:"tuple"}})),{},{title:"Filter"});var Hs;const Gs=()=>a.a.createElement(g.c,{style:{flexDirection:"row",justifyContent:"space-between"}},a.a.createElement(l.a,{color:"secondary"},"Signout")),qs=e=>{let{changeMUITheme:t,dispatch:n,width:r,height:o}=e,d=ks(e,js);const u=a.a.useRef(null),m=a.a.useRef({visualization:{nodeSize:null,nodeColor:null},fetching:{source:["Rechtspraak"],year:[1969,2015],instances:["Hoge Raad","Raad van State","Centrale Raad van Beroep","College van Beroep voor het bedrijfsleven","Gerechtshof Arnhem-Leeuwarden"],domains:["Not"],doctypes:["DEC","OPI"],degreesSources:3,popup:!1,liPermission:!1,keywords:"test",degreesTargets:3,eclis:"",articles:""},filtering:{year:[1960,2021],degree:[0,100],indegree:[0,100],outdegree:[0,100]}}),p=a.a.useMemo(()=>((e={})=>{const{}=e;return{schema:{title:"Filter",type:"object",required:[],additionalProperties:!1,properties:{year:{type:"array",items:{type:"number"},minimum:1969,maximum:2015},degree:{type:"array",items:{type:"number"},minimum:0,maximum:100},indegree:{type:"array",items:{type:"number"},minimum:0,maximum:100},outdegree:{type:"array",items:{type:"number"},minimum:0,maximum:100}}},uiSchema:{year:{"ui:field":kl},degree:{"ui:field":kl},indegree:{"ui:field":kl},outdegree:{"ui:field":kl}}}})(),[]),h=a.a.useMemo(()=>(e=>{const{onPopupPress:t}=e;return{children:a.a.createElement("div",null),schema:{title:"Fetch Data",type:"object",additionalProperties:!1,properties:{popup:{title:"Build Query",type:"boolean"}}},uiSchema:{Date:{"ui:field":kl},popup:{"ui:field":({formData:e,schema:n,onChange:r})=>a.a.createElement(l.a,{onClick:t},"Open Query Builder")}}}})({onPopupPress:async()=>{O(e=>{e.queryBuilder.visible=!0})}}),[]),v={Dark:b,Default:y},[E,O]=(a.a.useRef({}),Object(f.a)({queryBuilder:{visible:!1,query:{DataSources:["RS"],Date:[1969,2015],Instances:["Hoge Raad","Raad van State"],Domains:[""],Doctypes:["DEC","OPI"],DegreesSources:1,Keywords:"",DegreesTargets:1,Eclis:"ECLI:NL:GHSGR:1972:AB4988",Articles:""}},helpModal:{isOpen:!1}})),w=a.a.useMemo(()=>()=>a.a.createElement(g.c,{style:{flexDirection:"row"}},a.a.createElement(l.a,{onClick:()=>O(e=>{e.helpModal.isOpen=!0})},"Help"),a.a.createElement(l.a,{onClick:()=>n({type:Ns})},"Test the API")),[n]),[x,D]=ns(As(As({},Fs),{},{graphConfig:{layout:na.Layouts.circle,zoom:.2,nodes:{},clusters:[]},preferencesModal:{},settingsBar:{opened:!0,forms:[As(As({},h),{},{formData:m.current.fetching}),Ll,As(As({},p),{},{formData:m.current.filtering})],createClusterForm:As(As({},p),{},{schema:As(As({},p.schema),{},{title:"Create Cluster"}),formData:m.current.filtering})},dataBar:{editable:!0,header:Gs},actionBar:{right:w,eventRecording:!1,actions:{},theming:{options:[{name:"Dark",value:"Dark"},{name:"Default",value:"Default"}],value:"Default"}},onEvent:async({type:e,payload:n,elementId:r,graphRef:a,graphEditor:o,update:l,state:s},c)=>{const{cy:d}=o;d.$id(r);switch(e){case he:{const{itemIds:e}=n;c.selectedElementIds=e;const{selectedItem:t}=yt(c,o);let r=null;r&&!i.x(r)&&(t.data=r);break}case Q:{const{name:e,formData:t}=n,{year:r,degree:a,indegree:o,outdegree:l}=t,s=c.nodes.filter(e=>{const t=d.$id(e.id);return i.t(r[0],r[1])(e.data.year)&&i.t(a[0],a[1])(t.degree())&&i.t(o[0],o[1])(t.indegree())&&i.t(l[0],l[1])(t.outdegree())}).map(e=>e.id);return c.graphConfig.clusters.push({id:i.ob(),name:e,ids:s,childClusterIds:[]}),!1}case Ae:return c.settingsBar.forms[n.index].formData=n.value,n.form.schema.title===p.schema.title?(m.current=As(As({},m.current),{},{filtering:n.value}),c.graphConfig.nodes.filter={test:({element:e,item:t})=>{const{year:r,degree:a,indegree:o,outdegree:l}=n.value;return i.t(r[0],r[1])(t.data.year)&&i.t(a[0],a[1])(e.degree())&&i.t(o[0],o[1])(e.indegree())&&i.t(l[0],l[1])(e.outdegree())},settings:{opacity:.2}}):m.current=As(As({},m.current),{},{visualization:n.value}),!1;case W:{const{value:e}=n;return c.graphConfig.theme=v[e],t(e),c.actionBar.theming.value=e,!1}}return null}}));return a.a.useEffect(()=>{},[]),a.a.createElement(g.c,{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%"}},a.a.createElement(jl,Ss({},x,{payload:[m.current],style:{width:r,height:o},renderNode:e=>a.a.createElement(ds,Ss({},e,m.current)),renderEdge:gs},d)),a.a.createElement(Cs,{isOpen:E.queryBuilder.visible,query:E.queryBuilder.query,onClose:()=>O(e=>{e.queryBuilder.visible=!1}),onStart:()=>{D.update(e=>{e.isLoading=!0}),O(e=>{e.queryBuilder.visible=!1})},onError:e=>{D.update(e=>{e.isLoading=!1}),O(e=>{e.queryBuilder.visible=!0}),u.current.alert({type:"warning",text:e.message})},onFinish:({nodes:e=[],edges:t=[],networkStatistics:n,message:r}={})=>{D.update(r=>{r.nodes=e,r.edges=t,r.networkStatistics={local:n},r.isLoading=!1,r.graphConfig.layout=na.Layouts.circle}),r&&u.current.alert({type:"warning",text:r})}}),a.a.createElement(Ts,{isOpen:E.helpModal.isOpen,onClose:()=>O(e=>{e.helpModal.isOpen=!1}),videoId:"OrzMIhLpVps"}),a.a.createElement(zs,{ref:u}),a.a.createElement(s.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:x.isLoading},a.a.createElement(c.a,{color:"inherit"})))},zs=a.a.forwardRef((e,t)=>{var n;const[r,o]=a.a.useState(!1),[l,s]=a.a.useState(void 0),c=(Object(g.j)(t,{},()=>({alert:e=>{s(As({key:i.ob()},e)),o(!0)}})),(e,t)=>{o(!1)}),h=a.a.useCallback(e=>a.a.createElement(d.a,Ss({},e,{direction:"down",handleExited:()=>{s(void 0)}})),[]);return a.a.createElement(u.a,{key:null===l||void 0===l?void 0:l.key,anchorOrigin:{vertical:"top",horizontal:"right"},open:r,autoHideDuration:4e3,TransitionComponent:h,onClose:c},a.a.createElement(m.a,{onClose:c,severity:null!==(n=null===l||void 0===l?void 0:l.type)&&void 0!==n?n:"error"},a.a.createElement(p.a,null,l?i.nb(l.type):""),null===l||void 0===l?void 0:l.text))}),Ys={Dark:Ms,Light:Us};var Ws=e=>{const[t,n]=a.a.useState(Ys.Light);return a.a.createElement(h.a,{theme:t},a.a.createElement(qs,Ss({changeMUITheme:e=>n(Ys[e])},e)))};const $s=Object(o.a)();t.a=()=>{const[e,{width:t,height:n,initialized:r}]=Object(g.k)();return a.a.createElement(h.a,{theme:$s},a.a.createElement(g.c,{ref:e,style:{width:"100%",height:"100%"}},r&&a.a.createElement(Ws,{dispatch:()=>{},width:t,height:n})))}},646:function(e,t,n){e.exports=n(981)},939:function(e,t){}},[[646,1,2]]]);
//# sourceMappingURL=app.2e56375c.chunk.js.map